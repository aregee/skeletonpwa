!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("skeletonpwa",[],t):"object"==typeof exports?exports.skeletonpwa=t():e.skeletonpwa=t()}(window,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t,n){"use strict";n.r(t);var r=n(2),d=n.n(r),y=Object.prototype.hasOwnProperty,b=new Map;function g(t){try{return decodeURIComponent(t)}catch(e){return t}}function p(r,o,i,a,u){var c,s,l=0;return{next:function(e){if(r===e)return{done:!0};if(!c&&(c=function(e,t,n,r){var o=!e.children,i=(e.path||"")+"|"+o,a=b.get(i);if(!a){var u=[];a={keys:u,pattern:d()(e.path||"",u,{end:o})},b.set(i,a)}var c=a.pattern.exec(t);if(!c)return null;for(var s=c[0],l=Object.assign({},r),f=1;f<c.length;f++){var p=a.keys[f-1],h=p.name,v=c[f];void 0===v&&y.call(l,h)||(p.repeat?l[h]=v?v.split(p.delimiter).map(g):[]:l[h]=v?g(v):v)}return{path:o||"/"!==s.charAt(s.length-1)?s:s.substr(1),keys:n.concat(a.keys),params:l}}(r,i,a,u)))return{done:!1,value:{route:r,baseUrl:o,path:c.path,keys:c.keys,params:c.params}};if(c&&r.children)for(;l<r.children.length;){if(!s){var t=r.children[l];t.parent=r,s=p(t,o+c.path,i.substr(c.path.length),c.keys,c.params)}var n=s.next(e);if(!n.done)return{done:!1,value:n.value};s=null,l++}return{done:!0}}}}function o(e,t){if("function"==typeof e.route.action)return e.route.action(e,t)}var i=function(){function e(e,t){if(void 0===t&&(t={}),Object(e)!==e)throw new TypeError("Invalid routes");this.baseUrl=t.baseUrl||"",this.errorHandler=t.errorHandler,this.resolveRoute=t.resolveRoute||o,this.context=Object.assign({router:this},t.context),this.root=Array.isArray(e)?{path:"",children:e,parent:null}:e,this.root.parent=null}return e.prototype.resolve=function(e){var t=this,i=Object.assign({},this.context,"string"==typeof e?{pathname:e}:e),a=p(this.root,this.baseUrl,i.pathname.substr(this.baseUrl.length),[],null),u=this.resolveRoute,c=null,s=null,l=i;function f(t,n,e){void 0===n&&(n=c.value.route);var r=null===e&&c.value.route;if(c=s||a.next(r),s=null,!t&&(c.done||!function(e,t){for(var n=t;n;)if((n=n.parent)===e)return!0;return!1}(n,c.value.route)))return s=c,Promise.resolve(null);if(c.done){var o=new Error("Page not found");return o.context=i,o.code=404,Promise.reject(o)}return l=Object.assign({},i,c.value),Promise.resolve(u(l,c.value.params)).then(function(e){return null!=e?e:f(t,n,e)})}return i.next=f,Promise.resolve().then(function(){return f(!0,t.root)}).catch(function(e){if(e.context=e.context||l,e.code=e.code||500,t.errorHandler)return t.errorHandler(e);throw e})},e}();i.pathToRegexp=d.a,t.default=i},function(e,t,n){
/*!
 * 
 *     Name: index
 *     Generated on: 1547916217287
 *     Package: webtoolkit
 *     Version: v2.1.4
 *     License: MIT
 *     
 */
window,e.exports=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.Vent=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._collection=new Map}return r(e,[{key:"on",value:function(e,t){return this._collection.set(e,Array.isArray(this._collection.get(e))?this._collection.get(e):[]),this._collection.get(e).push(t),this}},{key:"once",value:function(e,t){return this.on(e,t),this}},{key:"off",value:function(e,t){var n=this._collection.get(e),r=0;if(Array.isArray(n)){for(;r<n.length;r+=1)if(n[r]===t||n[r].listener===t){n.splice(r,1);break}0===n.length&&this.removeAllListeners(e)}return this}},{key:"removeAllListeners",value:function(e){return this._collection.delete(e),this}},{key:"listeners",value:function(e){return this._collection.get(e)}},{key:"emit",value:function(){var e,t=[].slice.call(arguments,0),n=t.shift(),r=this._collection.get(n),o=0;if(r)for(e=(r=r.slice(0)).length;o<e;o+=1)r[o].apply(this,t);return this}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.DomApi=function(e){function f(e,t){return!(!e||!e.match||(t.innerHTML=e,0))}return t=e,n=function(e){return l=e,function(e,t){var n,r,o,i,a,u,c,s=document.createElement(l);return e&&(n=e,r=s,o=Math.round(Math.random()*Date.now()).toString(20).substr(0,4),i=window.navigator.userAgent.toLowerCase(),a=/Trident/.test(i),u=/safari/.test(i)&&!/chrome/.test(i),c=/iphone|ipod|ipad/.test(i),a||u||c?Object.keys(n).forEach(function(e){["function"].indexOf(p(n[e]))<0&&["className","classList","linkText"].indexOf(e)<0?r.setAttribute(e,n[e]):r[e]=n[e]}):Object.keys(n).forEach(function(e){return r[e]=n[e]}),r.setAttribute("uid",o)),t&&(t.map&&t.forEach(function(e){f(e,s)||s.appendChild(e)}),f(t,s)),s};var l},r=["h1","div","span","article","a","nav","button"],(Array.isArray(t)?r.concat(t):r).forEach(function(e){n[e.toLowerCase()]=n.bind(null,e)()}),n;var t,n,r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiFactory=function(e){var o=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[]),u=o.apiBase?o.apiBase:window.location.origin,c=o.apiPrefix?o.apiPrefix:"",s=o.defaultHeaders?o.defaultHeaders:{"Content-Type":"application/json"},r=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=0===t.indexOf("http")?{}:s,r=c+t,a=0===t.indexOf("http")?r:u+r;return Object.assign(i,{method:e,credentials:o.credentials?o.credentials:"same-origin",headers:i.headers?Object.assign({},n,i.headers):n,isJson:!Object.prototype.hasOwnProperty.call(i,"isJson")||i.isJson}),new Promise(function(e,o){fetch(a,i).then(function(n){if(n.ok)n.redirected&&e(n),i.isJson&&e(n.json()),e(n);else{var r={};i.isJson?n.json().then(function(e){var t;Object.assign(r,{status:(t=n).status,statusText:t.statusText,url:t.url}),r.traceback=e,r.message=e,o(r)}).catch(function(e){o(e)}):o(n)}}).catch(function(e){o(e)})})};return["GET","PUT","POST","PATCH","DELETE"].forEach(function(n){r[n.toLowerCase()]=function(e,t){return r(n,e,t)}}),r.setCommonHeader=function(e,t){return s[e]=t,s},r.unsetCommonHeader=function(e){return delete s[e],s},Object.keys(s).forEach(function(e){var t=s[e];r.setCommonHeader(e,t)}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.mix=function(e){return new o(e)};var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.superclass=e}return r(t,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},this.superclass)}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vent=t.DomApi=t.ApiFactory=t.mix=void 0;var r=n(3),o=n(2),i=n(1),a=n(0);t.mix=r.mix,t.ApiFactory=o.ApiFactory,t.DomApi=i.DomApi,t.Vent=a.Vent}])},function(e,t){e.exports=u,e.exports.parse=i,e.exports.compile=function(e,t){return n(i(e,t))},e.exports.tokensToFunction=n,e.exports.tokensToRegExp=a;var x="/",M="./",E=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function i(e,t){for(var n,r,o=[],i=0,a=0,u="",c=t&&t.delimiter||x,s=t&&t.delimiters||M,l=!1;null!==(n=E.exec(e));){var f=n[0],p=n[1],h=n.index;if(u+=e.slice(a,h),a=h+f.length,p)u+=p[1],l=!0;else{var v="",d=e[a],y=n[2],b=n[3],g=n[4],m=n[5];if(!l&&u.length){var w=u.length-1;-1<s.indexOf(u[w])&&(v=u[w],u=u.slice(0,w))}u&&(o.push(u),u="",l=!1);var P=""!==v&&void 0!==d&&d!==v,j="+"===m||"*"===m,O="?"===m||"*"===m,_=v||c,k=b||g;o.push({name:y||i++,prefix:v,delimiter:_,optional:O,repeat:j,partial:P,pattern:k?(r=k,r.replace(/([=!:$/()])/g,"\\$1")):"[^"+$(_)+"]+?"})}}return(u||a<e.length)&&o.push(u+e.substr(a)),o}function n(s){for(var l=new Array(s.length),e=0;e<s.length;e++)"object"==typeof s[e]&&(l[e]=new RegExp("^(?:"+s[e].pattern+")$"));return function(e,t){for(var n="",r=t&&t.encode||encodeURIComponent,o=0;o<s.length;o++){var i=s[o];if("string"!=typeof i){var a,u=e?e[i.name]:void 0;if(Array.isArray(u)){if(!i.repeat)throw new TypeError('Expected "'+i.name+'" to not repeat, but got array');if(0===u.length){if(i.optional)continue;throw new TypeError('Expected "'+i.name+'" to not be empty')}for(var c=0;c<u.length;c++){if(a=r(u[c],i),!l[o].test(a))throw new TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'"');n+=(0===c?i.prefix:i.delimiter)+a}}else if("string"!=typeof u&&"number"!=typeof u&&"boolean"!=typeof u){if(!i.optional)throw new TypeError('Expected "'+i.name+'" to be '+(i.repeat?"an array":"a string"));i.partial&&(n+=i.prefix)}else{if(a=r(String(u),i),!l[o].test(a))throw new TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but got "'+a+'"');n+=i.prefix+a}}else n+=i}return n}}function $(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function v(e){return e&&e.sensitive?"":"i"}function a(e,t,n){for(var r=(n=n||{}).strict,o=!1!==n.start,i=!1!==n.end,a=$(n.delimiter||x),u=n.delimiters||M,c=[].concat(n.endsWith||[]).map($).concat("$").join("|"),s=o?"^":"",l=0===e.length,f=0;f<e.length;f++){var p=e[f];if("string"==typeof p)s+=$(p),l=f===e.length-1&&-1<u.indexOf(p[p.length-1]);else{var h=p.repeat?"(?:"+p.pattern+")(?:"+$(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern;t&&t.push(p),p.optional?p.partial?s+=$(p.prefix)+"("+h+")?":s+="(?:"+$(p.prefix)+"("+h+"))?":s+=$(p.prefix)+"("+h+")"}}return i?(r||(s+="(?:"+a+")?"),s+="$"===c?"$":"(?="+c+")"):(r||(s+="(?:"+a+"(?="+c+"))?"),l||(s+="(?="+a+"|"+c+")")),new RegExp(s,v(n))}function u(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(u(e[o],t,n).source);return new RegExp("(?:"+r.join("|")+")",v(n))}(e,t,n):(r=t,a(i(e,o=n),r,o));var r,o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vent=t.skeletonPwa=void 0;var r=n(7),o=n(5);r.ProgressiveEngine.instanceWaiters=[],r.ProgressiveEngine.prototype.status=function(){return{active:this.active,name:this.name}},r.ProgressiveEngine.onInstance=function(e){r.ProgressiveEngine.instanceWaiters.push(e)};var i;(0,o.supportDomApi)(r.ProgressiveEngine),(0,o.supportApi)(r.ProgressiveEngine),(i=r.ProgressiveEngine).onInstance(function(e,t){var n=t.resolve;t.reject,e.service("$vent",function(){return o.Vent}),e.service("mix",function(){return o.mix}),i.prototype.active=!0,n(e)});var a=new r.ProgressiveEngine("skeleton");t.skeletonPwa=a,t.Vent=o.Vent},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.mix=function(e){return new o(e)};var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.superclass=e}return r(t,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},this.superclass)}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyIoc=t.mix=void 0;var r=n(0),o=n(2);t.mix=r.mix,t.LazyIoc=o.LazyIoc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyIoc=void 0;var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(0),a=n(3),r=t.LazyIoc=function(e){function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,(0,i.mix)(a.Container).with(a.ProviderMixin,a.ServiceMixin,a.FactoryMixin,a.DecorateMixin,a.ValueMixin,a.MiddlewareMixin,a.ConstantMixin)),o(r,[{key:"getNested",value:function(e,t){var n=e[t]?e[t]:e.container[t];if(void 0===n&&r.config.strict)throw new Error("Container was unable to resolve a service.  `"+t+"` is undefined.");return n}},{key:"getNestedModule",value:function(e){return this.nested[e]||(this.nested[e]=this.module())}},{key:"getNestedService",value:function(e){return e.split(".").reduce(this.getNested.bind(this),this)}},{key:"module",value:function(e){if("string"!=typeof e)return new r;var t=this.modules[e];return t||(t=new r(e),(this.modules[e]=t).constant("CONTAINER_NAME",e)),t}}],[{key:"getModule",value:function(e){if("string"!=typeof e)return r.Singleton?r.Singleton:new r(e);var t=r.Singleton||this.modules[e];return t||(t=new r(e),r.Singleton=t,(this.modules[e]=t).constant("CONTAINER_NAME",e)),t}}]),r}();r.config={strict:!0},r.Singleton=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceMixin=t.ValueMixin=t.MiddlewareMixin=t.ConstantMixin=t.DecorateMixin=t.FactoryMixin=t.ProviderMixin=t.Container=void 0;var r=n(4),o=n(5),i=n(6),a=n(7),u=n(8),c=n(9),s=n(10),l=n(11);t.Container=r.Container,t.ProviderMixin=o.ProviderMixin,t.FactoryMixin=i.FactoryMixin,t.DecorateMixin=a.DecorateMixin,t.ConstantMixin=u.ConstantMixin,t.MiddlewareMixin=c.MiddlewareMixin,t.ValueMixin=s.ValueMixin,t.ServiceMixin=l.ServiceMixin},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)};t.Container=function(){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.name=e,this.modules=t,this.decorators={},this.nested={},this.providerMap={},this.originalProviders={},this.middlewares={},this.deferred=[];var n=this.register.bind(this),r=this.decorator.bind(this);if(this.container={$decorator:r,$register:n,$list:this.list.bind(this)},this.config={strict:!1},this.id=i,this.modules[e])return this.module(e)}return r(o,[{key:"clear",value:function(e){"string"==typeof e?delete this.modules[e]:this.modules={}}},{key:"byMethod",value:function(e){return!/^\$(?:decorator|register|list)$|Provider$/.test(e)}},{key:"list",value:function(e){return Object.keys(e||this.container||{}).filter(this.byMethod)}},{key:"digest",value:function(e){return(e||[]).map(this.getNestedService.bind(this),this.container)}}]),o}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();Array.prototype.slice,t.ProviderMixin=function(n){return function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),r(t,[{key:"reducer",value:function(e,t){return t(e)}},{key:"provider",value:function(e,t){var n=e.split(".");if(this.providerMap[e]&&1===n.length&&!this.container[e+"Provider"])return console.error(e+" provider already instantiated.");this.originalProviders[e]=t,this.providerMap[e]=!0;var r=n.shift();return n.length?(this.createSubProvider.call(this,r,t,n),this):this.createProvider.call(this,r,t)}},{key:"getWithGlobal",value:function(e,t){return(e[t]||[]).concat(e.__global__||[])}},{key:"createProvider",value:function(e,t){this.id();var o=this.container,n=(this.decorators,this.middlewares,e+"Provider"),r=Object.create(null);r[n]={configurable:!0,enumerable:!0,get:function(){var e=new t;return delete o[n],o[n]=e}};var i=function(e,t){var n=this.container[t],r=void 0;return n&&(r=this.getWithGlobal(this.decorators,e).reduce(this.reducer,n.$get(this.container)),delete o[t],delete o[e]),void 0===r?r:this.applyMiddleware(this.getWithGlobal(this.middlewares,e),e,r,this.container)}.bind(this,e,n);return r[e]={configurable:!0,enumerable:!0,get:i},Object.defineProperties(o,r),this}},{key:"createSubProvider",value:function(e,t,n){var r=this.getNestedModule.call(this,e);return this.providerMap[e]||this.factory(e,function(){return r.container}),r.provider(n.join("."),t)}},{key:"register",value:function(e){var t=void 0===e.$value?e:e.$value;return this[e.$type||"service"].apply(this,[e.$name,t].concat(e.$inject||[]))}},{key:"removeProviderMap",value:function(e){delete this.providerMap[e],delete this.container[e],delete this.container[e+"Provider"]}},{key:"resetProviders",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=this.originalProviders,e=Object.keys(this.originalProviders);(0<t.length?e.filter(function(e){return-1<t.indexOf(e)}):e).forEach(function(e){var t=e.split(".");1<t.length&&(this.removeProviderMap.call(this,t[0]),t.forEach(this.removeProviderMap,this.getNestedModule.call(this,t[0]))),this.removeProviderMap.call(this,e),this.provider(e,n[e])},this)}},{key:"resolve",value:function(t){return this.deferred.forEach(function(e){e(t)}),this}}]),t}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.FactoryMixin=function(n){return function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),r(t,[{key:"factory",value:function(e,t){return this.provider.call(this,e,function(){this.$get=t})}},{key:"instanceFactory",value:function(e,t){return this.factory.call(this,e,function(e){return{instance:t.bind(t,e)}})}}]),t}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.DecorateMixin=function(n){return function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),r(t,[{key:"decorator",value:function(e,t){"function"==typeof e&&(t=e,e="__global__");var n=e.split("."),r=n.shift();return n.length?this.getNestedModule.call(this,r).decorator(n.join("."),t):(this.decorators[r]||(this.decorators[r]=[]),this.decorators[r].push(t)),this}},{key:"defer",value:function(e){return this.deferred.push(e),this}}]),t}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.ConstantMixin=function(n){return function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),r(t,[{key:"constant",value:function(e,t){var n=e.split(".");return e=n.pop(),this.defineConstant.call(n.reduce(this.setValueObject,this.container),e,t),this}},{key:"defineConstant",value:function(e,t){Object.defineProperty(this,e,{configurable:!1,enumerable:!0,value:t,writable:!1})}}]),t}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.MiddlewareMixin=function(n){return function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),r(t,[{key:"applyMiddleware",value:function(r,e,o,t){var n={configurable:!0,enumerable:!0};return r.length?n.get=function(){var t=0,n=function(e){if(e)throw e;r[t]&&r[t++](o,n)};return n(),o}:(n.value=o,n.writable=!0),Object.defineProperty(t,e,n),t[e]}},{key:"middleware",value:function(e,t){"function"==typeof e&&(t=e,e="__global__");var n=e.split("."),r=n.shift();return n.length?this.getNestedModule.call(this,r).middleware(n.join("."),t):(this.middlewares[r]||(this.middlewares[r]=[]),this.middlewares[r].push(t)),this}}]),t}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.ValueMixin=function(n){return function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),r(t,[{key:"value",value:function(e,t){var n=e.split(".");return e=n.pop(),this.defineValue.call(n.reduce(this.setValueObject,this.container),e,t),this}},{key:"defineValue",value:function(e,t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})}},{key:"setValueObject",value:function(e,t){var n=e[t];return n||(n={},this.defineValue.call(e,t,n)),n}}]),t}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=Array.prototype.slice;t.ServiceMixin=function(n){return function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),r(t,[{key:"service",value:function(e,t){return this.createService.apply(this,[e,t,!0].concat(u.call(arguments,2)))}},{key:"createService",value:function(e,r,o){var i=3<arguments.length?u.call(arguments,3):[],a=this;return this.factory.call(this,e,function(){var e=r,t=a.getNestedService.bind(a),n=i.map(t,a.container);return o?(n.unshift(r),new(r.bind.apply(r,n))):e.apply(null,n)})}},{key:"serviceFactory",value:function(e,t){return this.createService.apply(this,[e,t,!1].concat(u.call(arguments,2)))}}]),t}()}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mix=t.Vent=t.supportDomApi=t.supportApi=void 0;var r=n(8),o=n(9),i=n(1),a=n(4);t.supportApi=r.supportApi,t.supportDomApi=o.supportDomApi,t.Vent=i.Vent,t.mix=a.mix},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vent=t.skeletonEngine=t.skeletonPwa=void 0;var i=n(3),r=n(10),a=n(11),o=n(12),u=n(13),c=n(15),s=n(16),l=n(17),f=n(18),p=n(19),h={};window.skeletonPwa=i.skeletonPwa,window.skeletonEngine=h,i.skeletonPwa.register(c.Dom),i.skeletonPwa.register(u.RouterService),i.skeletonPwa.register(f.apiUtils),i.skeletonPwa.register(f.viewContainerUtils),i.skeletonPwa.register(f.pageurlUtils),i.skeletonPwa.register(f.stringifyQueryUtils),i.skeletonPwa.register(s.apiFactory),i.skeletonPwa.register(l.buildUri),i.skeletonPwa.register(f.find),i.skeletonPwa.register(r.coreApiFactory),i.skeletonPwa.register(o.configFactory),i.skeletonPwa.service("datastore",Map),i.skeletonPwa.factory("skeletonpwa",function(){return i.skeletonPwa}),i.skeletonPwa.serviceFactory("navigateToUrl",p.navigateToUrlFactory,"$window"),h.bootstrap=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=i.skeletonPwa.container.coreApi;if(e){var o=e;return i.skeletonPwa.constant("skeletonConfig",o),i.skeletonPwa.container.loadcfg().then(function(e){return r.resolveAll()}).then(function(){var e=["skeletonpwa","dom","state","datastore","coreApi","appCfg","vent","Utils"].concat(n);return a.appfactory.$name=t,a.appfactory.$type="serviceFactory",a.appfactory.$inject=e,i.skeletonPwa.register(a.appfactory),r.runAll(i.skeletonPwa.container[t])})}return i.skeletonPwa.container[t]},h.shell=function(e){var t=i.skeletonPwa.container[e];return t||i.skeletonPwa.container.coreApi},t.skeletonPwa=i.skeletonPwa,t.skeletonEngine=h,t.Vent=i.Vent},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressiveEngine=void 0;var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(4),a=n(5);function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=Array.prototype.slice;t.ProgressiveEngine=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=u(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));if(t.active)return u(t);for((r.Singleton=t).options={$this:"skeleton"},t.vent=new a.Vent,t.deps=[],t.runtimes=[],t.digestRuntimes=[],t.instanceWaiterProps=[];r.instanceWaiters.length;){t.instanceWaiterProps.push(function(n){return new Promise(function(e,t){r.instanceWaiters.shift()(n,{resolve:e,reject:t})})}(t))}return t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.LazyIoc),o(r,[{key:"resolveAll",value:function(){return Promise.all(this.deps)}},{key:"component",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return t.$name=e,t.$inject=Array.isArray(t.$inject)?t.$inject:[].concat(n),this.register(t),this}},{key:"componentFactory",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=3<arguments.length?c.call(arguments,3):n;return t.$name=e,t.$type="serviceFactory",t.$inject=Array.isArray(t.$inject)?t.$inject:[].concat(r),this.register(t),this}},{key:"configure",value:function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=this;n.$name=n.$name?n.$name:r.id(),n.$type="service",n.$inject=Array.isArray(n.$inject)?n.$inject:[].concat(e);var t=new Promise(function(e,t){r.register(n),e()});r.deps.push(t);var o=n.$name;return r.digestRuntimes.push(o),this}},{key:"addRuntime",value:function(e){return this.runtimes.push(e),this}},{key:"runAll",value:function(e){var r,t=e,n=this,o=(r=t,function(n){return new Promise(function(e,t){e(n(r.app))})}),i=n.runtimes.reduce(function(e,t){return e.push(o(t)),e},[]);return Promise.all(i).then(function(){return Promise.resolve(function(){var e=n.digest(n.digestRuntimes);return t._runBlocks=e,t})}).catch(function(e){return console.error(e),e})}}]),r}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportApi=void 0;var r=n(1),o=function(e,t){var n=t.resolve;t.reject;e.service("http",function(){return r.ApiFactory}),n(e)};t.supportApi=function(e){e.onInstance(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportDomApi=void 0;var r=n(1);t.supportDomApi=function(e){e.onInstance(function(e,t){var n=t.resolve;t.reject;e.service("$createElement",function(){return r.DomApi}),e.service("$window",function(){return window}),e.service("$domq",function(){return function(e){return document.querySelector(e)}}),e.service("$document",function(){return window.document}),n(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coreApiFactory=void 0;var r=n(3),o=t.coreApiFactory=function(e){var t={};return t.defineConfig=r.skeletonPwa.configure,t.destroy=function(n){return new Promise(function(e,t){r.skeletonPwa.container[n]&&(delete r.skeletonPwa.container[n],e()),t("Shell not bootstraped yet")})},t.run=r.skeletonPwa.addRuntime,Object.assign(r.skeletonPwa,t)};o.$name="coreApi",o.$type="factory"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.appfactory=function(e,t,n,r,o,i,a,u){var c={};c.utils={},c.core=e,c.components={},c.module=function(e){if(-1<c.core.container.$list().indexOf(e))return c.core.container[e];throw new Error(e+" not injected in the shell, please inject the dependency and try again")},c.config=function(){return i},c.ngmodules=function(){return c.core.container.ngmodules},c.element=t,c.utils.api=u.api,c.utils.viewContainer=u.viewcontainer,c.components.views=new Map,c.vent=a,c.appRouter=n,c.datastore=r,c.utils.hooks={},c.utils.reduceParams=u.stringifyQueryParams,c.utils.genUrl=u.pageurl;var s={app:c};return s.run=function(e){o.run(e)}.bind(s),Object.assign({},s,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.configFactory=function(e){var i=e.$register,a=e.skeletonConfig,u=e.http;return function(e){var t=void 0;if(e)t=e;else{var n=new u({apiBase:a.api});t=n.get(a.publicConfig)}var r={},o=a;return t.then(function(e){return r.$name="appCfg",r.$type="constant",r.$value=Object.assign({reload:function(){return t.then(function(e){return e})}},o,e),Promise.resolve(i(r))}).catch(function(e){return r.$name="appCfg",r.$type="constant",r.$value=Object.assign({reload:function(){return t.then(function(e){return e})}},o),Promise.resolve(i(r))})}};r.$name="loadcfg",r.$type="factory"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterService=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=u(n(0)),a=u(n(14));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.RouterService=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.routes=e.routes?e.routes:[],this.url=function(t){return function(e){return(0,a.default)(t,e)}},this.opts=e.routeConfig,this.universalrouter=new i.default(this.routes,this.opts),this.genurl=this.url(this.universalrouter),this}return o(t,[{key:"route",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.universalrouter.resolve(r({pathname:e},t))}},{key:"genUrl",value:function(e,t,n){return this.genurl(n)(e,t)}},{key:"addRoute",value:function(e){return this.universalrouter.root.children.push(e),this}}]),t}();c.$name="state",c.$inject=["skeletonConfig"]},function(e,t,n){"use strict";n.r(t);var r=n(0),m=r.default.pathToRegexp,w=new Map;
/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */t.default=function(b,g){if(void 0===g&&(g={}),!(b instanceof r.default))throw new TypeError("An instance of UniversalRouter is expected");return b.routesByName=b.routesByName||new Map,function(e,t){var n=b.routesByName.get(e);if(!(n||(b.routesByName.clear(),function e(t,n,r){if(t.has(n.name))throw new Error('Route "'+n.name+'" already exists');if(n.name&&t.set(n.name,n),r)for(var o=0;o<r.length;o++){var i=r[o];i.parent=n,e(t,i,i.children)}}(b.routesByName,b.root,b.root.children),n=b.routesByName.get(e))))throw new Error('Route "'+e+'" not found');var r=w.get(n.fullPath);if(!r){for(var o="",i=n;i;){var a=Array.isArray(i.path)?i.path[0]:i.path;a&&(o=a+o),i=i.parent}for(var u=m.parse(o),c=m.tokensToFunction(u),s=Object.create(null),l=0;l<u.length;l++)"string"!=typeof u[l]&&(s[u[l].name]=!0);r={toPath:c,keys:s},w.set(o,r),n.fullPath=o}var f=b.baseUrl+r.toPath(t,g)||"/";if(g.stringifyQueryParams&&t){for(var p={},h=Object.keys(t),v=0;v<h.length;v++){var d=h[v];r.keys[d]||(p[d]=t[d])}var y=g.stringifyQueryParams(p);y&&(f+="?"===y.charAt(0)?y:"?"+y)}return f}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Dom=function(e,t){return e(t.elements)};r.$name="dom",r.$inject=["$createElement","skeletonConfig"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.apiFactory=function(e,t){return new e({apiBase:t.api})};r.$name="api",r.$type="serviceFactory",r.$inject=["http","skeletonConfig"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.buildUri=function(e){var n=function(){return e.prefixSite};return function(e){var t=e[0];return n()===t?e:""+n()+e}};r.$name="siteprefix",r.$type="serviceFactory",r.$inject=["skeletonConfig"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.find=u;var r=t.apiUtils=function(e){return e};r.$inject=["api"],r.$name="Utils.api",r.$type="serviceFactory";var o=t.pageurlUtils=function(){return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return function(e){return t.reduce(function(e,t){return""===e.val?e.val=e.val+e.tpl()+t:e.val=e.val+"&"+e.tpl()+t,e},e)}}(t)({tpl:function(){return"partials[]="},val:e||""}).val}};o.$name="Utils.pageurl",o.$type="serviceFactory",o.$inject=[];var i=t.viewContainerUtils=function(e,t){var n=e.viewContainer?e.viewContainer:".view-container";return t.querySelector(n)};i.$name="Utils.viewcontainer",i.$type="serviceFactory",i.$inject=["skeletonConfig","$document"];var a=t.stringifyQueryUtils=function(){var r;return r={stringifyQueryParams:function(n){return Object.keys(n).reduce(function(e,t){return""===t||null!==n[t]&&""!==n[t]&&e.push(t+"="+n[t]),e},[]).join("&")}}.stringifyQueryParams,function(e){var t=e.url,n=e.args;return""!==r(n)?t+"?"+r(n):t}};function u(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}a.$inject=[],a.$name="Utils.stringifyQueryParams",a.$type="serviceFactory",u.$inject=[],u.$name="Utils.find",u.$type="serviceFactory"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.navigateToUrlFactory=function(u){var t=u.history.pushState;u.history.pushState=function(e){return t.apply(this,arguments)};var e=u.history.replaceState;function c(e){for(var r={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t=r.parser[r.strictMode?"strict":"loose"].exec(e),o={},n=14;n--;)o[r.key[n]]=t[n]||"";return o[r.q.name]={},o[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(o[r.q.name][t]=n)}),o}return u.history.replaceState=function(){return e.apply(this,arguments)},function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=void 0;if("string"==typeof e)n=e;else if(this&&this.href)n=this.href;else{if(!(e&&e.currentTarget&&e.currentTarget.href&&e.preventDefault))throw new Error("navigateToUrl must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag");n=e.currentTarget.href,e.preventDefault()}var r,o,i=c(u.location.href),a=c(n);if(0===n.indexOf("#"))u.location.hash="#"+a.anchor;else if(i.host!==a.host&&a.host){if(t.isTestingEnv)return{wouldHaveReloadedThePage:!0};u.location.href=n}else r=a.path,(o=i.path)!==r&&o!=="/"+r?u.history.pushState(null,null,n):u.location.hash="#"+a.anchor}}}])});