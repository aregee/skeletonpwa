!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("skeletonpwa",[],t):"object"==typeof exports?exports.skeletonpwa=t():e.skeletonpwa=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VentView=t.View=t.GenericView=t.Vent=t.DomApi=t.ApiFactory=t.mix=void 0;var r=n(1),o=n(2),i=n(3),u=n(4),a=n(5);t.mix=r.mix,t.ApiFactory=o.ApiFactory,t.DomApi=i.DomApi,t.Vent=u.Vent,t.GenericView=a.GenericView,t.View=a.View,t.VentView=a.VentView},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(t.mix=function(e){return new i(e)},function(){function e(t){r(this,e),this.superclass=t}return o(e,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},this.superclass)}}]),e}())},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=r(e,[]),n=t.apiBase?t.apiBase:window.location.origin,o=t.apiPrefix?t.apiPrefix:"",i=t.defaultHeaders?t.defaultHeaders:{"Content-Type":"application/json"},u=function(e,r){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=0===r.indexOf("http")?{}:i,c=o+r,s=0===r.indexOf("http")?c:n+c;return Object.assign(u,{method:e,credentials:t.credentials?t.credentials:"same-origin",headers:u.headers?Object.assign({},a,u.headers):a,isJson:!u.isJson||u.isJson}),new Promise(function(e,t){fetch(s,u).then(function(n){if(n.ok)n.redirected&&e(n),u.isJson&&e(n.json()),e(n);else{var r={},o=function(e){return{status:e.status,statusText:e.statusText,url:e.url}};u.isJson?n.json().then(function(e){Object.assign(r,o(n)),r.traceback=e,r.message=e,t(r)}).catch(function(e){t(e)}):t(n)}}).catch(function(e){t(e)})})};return["GET","PUT","POST","PATCH","DELETE"].forEach(function(e){u[e.toLowerCase()]=function(t,n){return u(e,t,n)}}),u.setCommonHeader=function(e,t){return i[e]=t,i},u.unsetCommonHeader=function(e){return delete i[e],i},Object.keys(i).forEach(function(e){var t=i[e];u.setCommonHeader(e,t)}),u};t.ApiFactory=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomApi=function(e){function t(e,t){var n=Math.round(Math.random()*Date.now()).toString(20).substr(0,4);Object.keys(e).forEach(function(n){return t[n]=e[n]}),t.setAttribute("uid",n)}function n(e,t){return!(!e||!e.match||(t.innerHTML=e,0))}function r(e){return function(r,o){var i=document.createElement(e);return r&&t(r,i),o&&(o.map&&o.forEach(function(e){n(e,i)||i.appendChild(e)}),n(o,i)),i}}return function(e){var t=function(e){return r(e)},n=["h1","div","span","article","a","nav","button"];return(Array.isArray(e)?n.concat(e):n).forEach(function(e){t[e.toLowerCase()]=t.bind(null,e)()}),t}(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Vent=function(){function e(){r(this,e),this._collection=new Map}return o(e,[{key:"on",value:function(e,t){return this._collection.set(e,Array.isArray(this._collection.get(e))?this._collection.get(e):[]),this._collection.get(e).push(t),this}},{key:"once",value:function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return n.listener=t,this.on(e,t),this}},{key:"off",value:function(e,t){var n=this._collection.get(e),r=0;if(Array.isArray(n)){for(r;r<n.length;r+=1)if(n[r]===t||n[r].listener===t){n.splice(r,1);break}0===n.length&&this.removeAllListeners(e)}return this}},{key:"removeAllListeners",value:function(e){return this._collection.delete(e),this}},{key:"listeners",value:function(e){return this._collection.get(e)}},{key:"emit",value:function(){var e,t=[].slice.call(arguments,0),n=t.shift(),r=this._collection.get(n),o=0;if(r)for(r=r.slice(0),e=r.length,o;o<e;o+=1)r[o].apply(this,t);return this}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VentView=t.View=t.GenericView=void 0;var r=n(6);t.GenericView=r.GenericView,t.View=r.View,t.VentView=r.VentView},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VentView=t.GenericView=t.View=void 0;var r=n(7),o=n(8),i=n(9);t.View=o.View,t.GenericView=r.GenericView,t.VentView=i.VentView},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.GenericView=function(e){return function(e){function t(e,n,i,u,a){r(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,u,a));return c.genericPanel=[],c}return i(t,e),u(t,[{key:"listener",value:function(){(function(e){}).bind(null,this).apply(void 0,arguments)}},{key:"componentDidMount",value:function(){return this.template=this.createFirstTemplate(),this.loadData(),this.template}},{key:"createFirstTemplate",value:function(){return this.dom.div({className:this.viewClassName},'<div class="content-loading">Loading content...</div>')}},{key:"createOfflineTemplate",value:function(){return this.dom.div({className:this.viewClassName},'<div class="offline-content">\nFailed to fetch new data. You might be offline and the data is not in cache yet.\n<div class="logo-icon"></div>\n</div>')}}]),t}(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.View=function(){function e(t,n,o,i,u){r(this,e),this.viewClassName=t,this.urlName=n,this.routeParams=o,this.app=u,this.dom=i,this.template=null}return o(e,[{key:"loadData",value:function(){}},{key:"createTemplate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidUnmount",value:function(){}},{key:"render",value:function(e){if(this.template.parentElement){var t=e?e():this.createTemplate();this.template.parentElement.replaceChild(t,this.template),this.template=t,this.componentDidUpdate(),this.template.classList.remove("loading")}}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.VentView=function(e){return function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),u(t,[{key:"_render",value:function(){}},{key:"_mapDom",value:function(){}},{key:"_setEvents",value:function(){}},{key:"_handleClickEvent",value:function(e){}},{key:"_handleKeydownEvent",value:function(e){}},{key:"_removeEvents",value:function(){}}]),t}(e)}}])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vent=t.skeletonPwa=void 0;var r=n(7),o=n(3),i=n(13),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),a=n(14),c=function(e){return e&&e.__esModule?e:{default:e}}(a);r.ProgressiveEngine.instanceWaiters=[],r.ProgressiveEngine.prototype.status=function(){return{active:this.active,name:this.name}},r.ProgressiveEngine.onInstance=function(e){r.ProgressiveEngine.instanceWaiters.push(e)};(0,o.supportDomApi)(r.ProgressiveEngine),(0,o.supportApi)(r.ProgressiveEngine),(0,o.supportComponents)(r.ProgressiveEngine),function(e){var t=function(t,n){var r=n.resolve;n.reject;t.service("$vent",function(){return o.Vent}),t.service("mix",function(){return o.mix}),e.prototype.active=!0,r(t)};e.onInstance(t)}(r.ProgressiveEngine),function(e){var t=function(e,t){t.resolve,t.reject;e.service("singleSpa",function(){return u}),e.service("singleSpaReact",function(){return c.default}),e.service("singleSpaAngular",function(){return o.singleSpaAngular1}),e.service("singleSpaMithril",function(){return o.singleSpaMithril})};e.onInstance(t)}(r.ProgressiveEngine);var s=new r.ProgressiveEngine("skeleton");t.skeletonPwa=s,t.Vent=o.Vent},function(e,t,n){!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.mix=function(e){return new o(e)};var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.superclass=t}return r(e,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},this.superclass)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyIoc=t.mix=void 0;var r=n(0),o=n(2);t.mix=r.mix,t.LazyIoc=o.LazyIoc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyIoc=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=n(3),u=t.LazyIoc=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.mix)(i.Container).with(i.ProviderMixin,i.ServiceMixin,i.FactoryMixin,i.DecorateMixin,i.ValueMixin,i.MiddlewareMixin,i.ConstantMixin)),r(t,[{key:"getNested",value:function(e,n){var r=e[n]?e[n]:e.container[n];if(void 0===r&&t.config.strict)throw new Error("Container was unable to resolve a service.  `"+n+"` is undefined.");return r}},{key:"getNestedModule",value:function(e){return this.nested[e]||(this.nested[e]=this.module())}},{key:"getNestedService",value:function(e){return e.split(".").reduce(this.getNested.bind(this),this)}},{key:"module",value:function(e){if("string"==typeof e){var n=this.modules[e];return n||(n=new t(e),this.modules[e]=n,n.constant("CONTAINER_NAME",e)),n}return new t}}],[{key:"getModule",value:function(e){if("string"==typeof e){var n=t.Singleton||this.modules[e];return n||(n=new t(e),t.Singleton=n,this.modules[e]=n,n.constant("CONTAINER_NAME",e)),n}return t.Singleton?t.Singleton:new t(e)}}]),t}();u.config={strict:!0},u.Singleton=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceMixin=t.ValueMixin=t.MiddlewareMixin=t.ConstantMixin=t.DecorateMixin=t.FactoryMixin=t.ProviderMixin=t.Container=void 0;var r=n(4),o=n(5),i=n(6),u=n(7),a=n(8),c=n(9),s=n(10),l=n(11);t.Container=r.Container,t.ProviderMixin=o.ProviderMixin,t.FactoryMixin=i.FactoryMixin,t.DecorateMixin=u.DecorateMixin,t.ConstantMixin=a.ConstantMixin,t.MiddlewareMixin=c.MiddlewareMixin,t.ValueMixin=s.ValueMixin,t.ServiceMixin=l.ServiceMixin},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)};t.Container=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.modules=n,this.decorators={},this.nested={},this.providerMap={},this.originalProviders={},this.middlewares={},this.deferred=[];var r=this.register.bind(this),i=this.decorator.bind(this);if(this.container={$decorator:i,$register:r,$list:this.list.bind(this)},this.config={strict:!1},this.id=o,this.modules[t])return this.module(t)}return r(e,[{key:"clear",value:function(e){"string"==typeof e?delete this.modules[e]:this.modules={}}},{key:"byMethod",value:function(e){return!/^\$(?:decorator|register|list)$|Provider$/.test(e)}},{key:"list",value:function(e){return Object.keys(e||this.container||{}).filter(this.byMethod)}},{key:"digest",value:function(e){return(e||[]).map(this.getNestedService.bind(this),this.container)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Array.prototype.slice,t.ProviderMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"reducer",value:function(e,t){return t(e)}},{key:"provider",value:function(e,t){var n=e.split(".");if(this.providerMap[e]&&1===n.length&&!this.container[e+"Provider"])return console.error(e+" provider already instantiated.");this.originalProviders[e]=t,this.providerMap[e]=!0;var r=n.shift();return n.length?(this.createSubProvider.call(this,r,t,n),this):this.createProvider.call(this,r,t)}},{key:"getWithGlobal",value:function(e,t){return(e[t]||[]).concat(e.__global__||[])}},{key:"createProvider",value:function(e,t){this.id();var n=this.container,r=(this.decorators,this.middlewares,e+"Provider"),o=Object.create(null);o[r]={configurable:!0,enumerable:!0,get:function(){var e=new t;return delete n[r],n[r]=e,e}};var i=function(e,t){var r=this.container[t],o=void 0;return r&&(o=this.getWithGlobal(this.decorators,e).reduce(this.reducer,r.$get(this.container)),delete n[t],delete n[e]),void 0===o?o:this.applyMiddleware(this.getWithGlobal(this.middlewares,e),e,o,this.container)}.bind(this,e,r);return o[e]={configurable:!0,enumerable:!0,get:i},Object.defineProperties(n,o),this}},{key:"createSubProvider",value:function(e,t,n){var r=this.getNestedModule.call(this,e);return this.providerMap[e]||this.factory(e,function(){return r.container}),r.provider(n.join("."),t)}},{key:"register",value:function(e){var t=void 0===e.$value?e:e.$value;return this[e.$type||"service"].apply(this,[e.$name,t].concat(e.$inject||[]))}},{key:"removeProviderMap",value:function(e){delete this.providerMap[e],delete this.container[e],delete this.container[e+"Provider"]}},{key:"resetProviders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.originalProviders,n=Object.keys(this.originalProviders);(e.length>0?n.filter(function(t){return e.indexOf(t)>-1}):n).forEach(function(e){var n=e.split(".");n.length>1&&(this.removeProviderMap.call(this,n[0]),n.forEach(this.removeProviderMap,this.getNestedModule.call(this,n[0]))),this.removeProviderMap.call(this,e),this.provider(e,t[e])},this)}},{key:"resolve",value:function(e){return this.deferred.forEach(function(t){t(e)}),this}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.FactoryMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"factory",value:function(e,t){return this.provider.call(this,e,function(){this.$get=t})}},{key:"instanceFactory",value:function(e,t){return this.factory.call(this,e,function(e){return{instance:t.bind(t,e)}})}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.DecorateMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"decorator",value:function(e,t){"function"==typeof e&&(t=e,e="__global__");var n=e.split("."),r=n.shift();return n.length?this.getNestedModule.call(this,r).decorator(n.join("."),t):(this.decorators[r]||(this.decorators[r]=[]),this.decorators[r].push(t)),this}},{key:"defer",value:function(e){return this.deferred.push(e),this}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ConstantMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"constant",value:function(e,t){var n=e.split(".");return e=n.pop(),this.defineConstant.call(n.reduce(this.setValueObject,this.container),e,t),this}},{key:"defineConstant",value:function(e,t){Object.defineProperty(this,e,{configurable:!1,enumerable:!0,value:t,writable:!1})}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MiddlewareMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"applyMiddleware",value:function(e,t,n,r){var o={configurable:!0,enumerable:!0};return e.length?o.get=function(){var t=0,r=function(o){if(o)throw o;e[t]&&e[t++](n,r)};return r(),n}:(o.value=n,o.writable=!0),Object.defineProperty(r,t,o),r[t]}},{key:"middleware",value:function(e,t){"function"==typeof e&&(t=e,e="__global__");var n=e.split("."),r=n.shift();return n.length?this.getNestedModule.call(this,r).middleware(n.join("."),t):(this.middlewares[r]||(this.middlewares[r]=[]),this.middlewares[r].push(t)),this}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ValueMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"value",value:function(e,t){var n=e.split(".");return e=n.pop(),this.defineValue.call(n.reduce(this.setValueObject,this.container),e,t),this}},{key:"defineValue",value:function(e,t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})}},{key:"setValueObject",value:function(e,t){var n=e[t];return n||(n={},this.defineValue.call(e,t,n)),n}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Array.prototype.slice;t.ServiceMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"service",value:function(e,t){return this.createService.apply(this,[e,t,!0].concat(o.call(arguments,2)))}},{key:"createService",value:function(e,t,n){var r=arguments.length>3?o.call(arguments,3):[],i=this;return this.factory.call(this,e,function(){var e=t,o=i.getNestedService.bind(i),u=r.map(o,i.container);return n?(u.unshift(t),new(t.bind.apply(t,u))):e.apply(null,u)})}},{key:"serviceFactory",value:function(e,t){return this.createService.apply(this,[e,t,!1].concat(o.call(arguments,2)))}}]),n}()}}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mix=t.Vent=t.singleSpaAngular1=t.singleSpaMithril=t.supportComponents=t.supportDomApi=t.supportApi=void 0;var o=n(8),i=n(9),u=n(0),a=n(10),c=n(2),s=n(11),l=r(s),f=n(12),p=r(f);t.supportApi=o.supportApi,t.supportDomApi=i.supportDomApi,t.supportComponents=a.supportComponents,t.singleSpaMithril=l.default,t.singleSpaAngular1=p.default,t.Vent=u.Vent,t.mix=c.mix},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.appfactory=function(e,t,n,r,o,i,u,a,c,s,l,f,p){function d(e){c.run(e)}var h={},v=t.viewContainer?t.viewContainer:".view-container";h.utils={},h.core=e,h.singleSpa=s,h.singleSpaReact=l,h.components={},h.module=function(e){if(h.core.container.$list().indexOf(e)>-1)return h.core.container[e];throw new Error(e+" not injected in the shell, please inject the dependency and try again")},h.config=function(){return f},h.ngmodules=function(){return h.core.container.ngmodules},h.element=o,h.utils.api=r,h.utils.viewContainer=n.querySelector(v),h.components.views=new Map,h.vent=p,h.appRouter=u,h.datastore=a,h.utils.hooks={};var m=function(e){return{tpl:function(){return"partials[]="},val:e||""}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return e.reduce(function(e,t){return""===e.val?(e.val=e.val+e.tpl()+t,e):(e.val=e.val+"&"+e.tpl()+t,e)},t)}},b=function(e){return e.val},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return b(y(t)(m(e)))};h.utils.genUrl=g;var w={stringifyQueryParams:function(e){return Object.keys(e).reduce(function(t,n){return""===n?t:(null!==e[n]&&""!==e[n]&&t.push(n+"="+e[n]),t)},[]).join("&")}};h.utils.reduceParams=function(e){var t=e.stringifyQueryParams;return function(e){var n=e.url,r=e.args;return""!==t(r)?n+"?"+t(r):n}}(w);var O={app:h};return O.run=d.bind(O),Object.assign({},O,c)}},function(e,t,n){"use strict";function r(e){try{return decodeURIComponent(e)}catch(t){return e}}function o(e,t,n,o){var i=!e.children,u=(e.path||"")+"|"+i,a=f.get(u);if(!a){var c=[];a={keys:c,pattern:s()(e.path||"",c,{end:i})},f.set(u,a)}var p=a.pattern.exec(t);if(!p)return null;for(var d=p[0],h=Object.assign({},o),v=1;v<p.length;v++){var m=a.keys[v-1],y=m.name,b=p[v];void 0===b&&l.call(h,y)||(m.repeat?h[y]=b?b.split(m.delimiter).map(r):[]:h[y]=b?r(b):b)}return{path:i||"/"!==d.charAt(d.length-1)?d:d.substr(1),keys:n.concat(a.keys),params:h}}function i(e,t,n,r,u){var a,c,s=0;return{next:function(l){if(e===l)return{done:!0};if(!a&&(a=o(e,n,r,u)))return{done:!1,value:{route:e,baseUrl:t,path:a.path,keys:a.keys,params:a.params}};if(a&&e.children)for(;s<e.children.length;){if(!c){var f=e.children[s];f.parent=e,c=i(f,t+a.path,n.substr(a.path.length),a.keys,a.params)}var p=c.next(l);if(!p.done)return{done:!1,value:p.value};c=null,s++}return{done:!0}}}}function u(e,t){if("function"==typeof e.route.action)return e.route.action(e,t)}function a(e,t){for(var n=t;n;)if((n=n.parent)===e)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var c=n(18),s=n.n(c),l=Object.prototype.hasOwnProperty,f=new Map,p=function(){function e(e,t){if(void 0===t&&(t={}),Object(e)!==e)throw new TypeError("Invalid routes");this.baseUrl=t.baseUrl||"",this.errorHandler=t.errorHandler,this.resolveRoute=t.resolveRoute||u,this.context=Object.assign({router:this},t.context),this.root=Array.isArray(e)?{path:"",children:e,parent:null}:e,this.root.parent=null}return e.prototype.resolve=function(e){function t(e,n,i){void 0===n&&(n=c.value.route);var f=null===i&&c.value.route;if(c=s||o.next(f),s=null,!e&&(c.done||!a(n,c.value.route)))return s=c,Promise.resolve(null);if(c.done){var p=new Error("Page not found");return p.context=r,p.code=404,Promise.reject(p)}return l=Object.assign({},r,c.value),Promise.resolve(u(l,c.value.params)).then(function(r){return null!==r&&void 0!==r?r:t(e,n,r)})}var n=this,r=Object.assign({},this.context,"string"==typeof e?{pathname:e}:e),o=i(this.root,this.baseUrl,r.pathname.substr(this.baseUrl.length),[],null),u=this.resolveRoute,c=null,s=null,l=r;return r.next=t,Promise.resolve().then(function(){return t(!0,n.root)}).catch(function(e){if(e.context=e.context||l,e.code=e.code||500,n.errorHandler)return n.errorHandler(e);throw e})},e}();p.pathToRegexp=s.a,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vent=t.skeletonEngine=t.skeletonPwa=void 0;var r=n(1),o=n(15),i=n(4),u=n(16),a=n(17),c=n(20),s=n(21),l=n(22),f={};window.skeletonPwa=r.skeletonPwa,window.skeletonEngine=f,r.skeletonPwa.register(c.Dom),r.skeletonPwa.register(a.RouterService),r.skeletonPwa.register(s.apiFactory),r.skeletonPwa.register(l.buildUri),r.skeletonPwa.register(o.coreApiFactory),r.skeletonPwa.register(u.configFactory),r.skeletonPwa.service("datastore",Map),r.skeletonPwa.factory("skeletonpwa",function(){return r.skeletonPwa}),f.bootstrap=function(e,t){var n=r.skeletonPwa.container.coreApi;if(t){var o=t;return r.skeletonPwa.constant("skeletonConfig",o),r.skeletonPwa.container.loadcfg().then(function(e){return n.resolveAll()}).then(function(){return r.skeletonPwa.serviceFactory(e,i.appfactory,"skeletonpwa","skeletonConfig","$document","api","dom","$window","state","datastore","coreApi","singleSpa","singleSpaReact","appCfg","vent"),n.runAll(r.skeletonPwa.container[e])})}return r.skeletonPwa.container[e]},f.shell=function(e){var t=r.skeletonPwa.container[e];return t||r.skeletonPwa.container.coreApi},t.skeletonPwa=r.skeletonPwa,t.skeletonEngine=f,t.Vent=r.Vent},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressiveEngine=void 0;var u=n(2),a=n(3);t.ProgressiveEngine=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.active)return o(n);for(t.Singleton=n,n.options={app:"skeleton"},n.vent=new a.Vent,n.instanceWaiterProps=[];t.instanceWaiters.length;){n.instanceWaiterProps.push(function(e){return new Promise(function(n,r){t.instanceWaiters.shift()(e,{resolve:n,reject:r})})}(n))}return n}return i(t,e),t}(u.LazyIoc)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportApi=void 0;var r=n(0),o=function(e,t){var n=t.resolve;t.reject;e.service("http",function(){return r.ApiFactory}),n(e)};t.supportApi=function(e){e.onInstance(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportDomApi=void 0;var r=n(0);t.supportDomApi=function(e){var t=function(e,t){var n=t.resolve;t.reject;e.service("$createElement",function(){return r.DomApi}),e.service("$window",function(){return window}),e.service("$domq",function(){return function(e){return document.querySelector(e)}}),e.service("$document",function(){return window.document}),n(e)};e.onInstance(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportComponents=void 0;var r=n(0),o=function(e,t){var n=t.resolve;t.reject;e.service("GenericView",function(){return r.GenericView}),e.service("View",function(){return r.View}),e.service("VentView",function(){return r.VentView}),n(e)};t.supportComponents=function(e){e.onInstance(o)}},function(e,t,n){"use strict";function r(e){if("object"!==(void 0===e?"undefined":s(e)))throw new Error("single-spa-mithril requires a configuration object");var t=c({},l,e);if(!t.Mithril)throw new Error("single-spa-mithril must be passed opts.Mithril");if(!t.rootComponent&&!t.routes)throw new Error("single-spa-mithril must be passed opts.rootComponent or opts.routes");if(!t.domElementGetter)throw new Error("single-spa-mithril must be passed opts.domElementGetter function");return{bootstrap:o.bind(null,t),mount:i.bind(null,t),unmount:u.bind(null,t)}}function o(e){return Promise.resolve()}function i(e){return new Promise(function(t,n){var r=t,o=!!e.routes&&e.routes;"object"!==(void 0===o?"undefined":s(o))?e.Mithril.mount(a(e),e.rootComponent):(e.Mithril.route.prefix(e.prefix),e.Mithril.route(a(e),e.base,e.routes),e.stateInit()),r()})}function u(e){return Promise.resolve().then(function(){e.Mithril.mount(a(e),null)})}function a(e){var t=e.domElementGetter();if(!t)throw new Error("single-spa-mithril: domElementGetter function did not return a valid dom element");return t}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var l={Mithril:null,rootComponent:null,prefix:"?",domElementGetter:null}},function(e,t,n){"use strict";function r(e){if("object"!==(void 0===e?"undefined":s(e)))throw new Error("single-spa-angular1 requires a configuration object");var t=c({},l,e);if(!t.angular)throw new Error("single-spa-angular1 must be passed opts.angular");if(!t.domElementGetter)throw new Error("single-spa-angular1 must be passed opts.domElementGetter function");if(!t.mainAngularModule)throw new Error("single-spa-angular1 must be passed opts.mainAngularModule string");var n={};return{bootstrap:o.bind(null,t,n),mount:i.bind(null,t,n),unmount:u.bind(null,t,n)}}function o(e){return Promise.resolve()}function i(e,t){return Promise.resolve().then(function(){window.angular=e.angular;var n=a(e),r=n;if(e.uiRouter){var o=document.createElement("div");o.setAttribute("ui-view",!0===e.uiRouter?"":e.uiRouter),r.appendChild(o)}e.template&&(r.innerHTML=e.template),t.instance=f.startApp(r,e)})}function u(e,t){return new Promise(function(n,r){console.log(t,e),f.destroyApp(t.instance,e.mainAngularModule),e.angular!==window.angular||e.preserveGlobal||delete window.angular,setTimeout(n)})}function a(e){var t=e.domElementGetter();if(!t)throw new Error("domElementGetter did not return a valid dom element");return t}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var l={angular:null,domElementGetter:null,mainAngularModule:null,uiRouter:!1,preserveGlobal:!1,elementId:"__single_spa_angular_1",strictDi:!1,template:void 0},f=new function(){this.currentAppName,this.currentApp,this.startApp=function(e,t){var n=t.mainAngularModule,r=t.angular,o=t.strictDi,i=t.elementId;this.currentApp&&this.destroyApp(this.currentApp,this.currentAppName);var u=document.getElementById(i);if(u){this.currentAppName=n;var a=this;try{a.currentApp=r.bootstrap(u,[n],{strictDi:o})}catch(e){console.log(e),setTimeout(function(){a.currentApp=r.bootstrap(u,[n],{strictDi:o})},20)}}return this.currentApp},this.destroyApp=function(e,t){e.get("$rootScope").$destroy()}}},function(e,t,n){!function(t,n){e.exports=n()}(window,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(e,t,n){"use strict";function r(e){return e.status===s}function o(e){return e.status!==u&&e.status!==a}Object.defineProperty(t,"__esModule",{value:!0}),t.isActive=r,t.isntActive=function(e){return!r(e)},t.isLoaded=o,t.isntLoaded=function(e){return!o(e)},t.shouldBeActive=function(e){try{return e.activeWhen(window.location)}catch(t){(0,i.handleAppError)(t,e),e.status=l}},t.shouldntBeActive=function(e){try{return!e.activeWhen(window.location)}catch(t){(0,i.handleAppError)(t,e),e.status=l}},t.notBootstrapped=function(e){return e.status!==c},t.notSkipped=function(e){return e!==l&&(!e||e.status!==l)},t.toName=function(e){return e.name},t.SKIP_BECAUSE_BROKEN=t.UNLOADING=t.UNMOUNTING=t.UPDATING=t.MOUNTED=t.MOUNTING=t.NOT_MOUNTED=t.BOOTSTRAPPING=t.NOT_BOOTSTRAPPED=t.LOADING_SOURCE_CODE=t.NOT_LOADED=void 0;var i=n(1);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(17));var u="NOT_LOADED";t.NOT_LOADED=u;var a="LOADING_SOURCE_CODE";t.LOADING_SOURCE_CODE=a;var c="NOT_BOOTSTRAPPED";t.NOT_BOOTSTRAPPED=c,t.BOOTSTRAPPING="BOOTSTRAPPING",t.NOT_MOUNTED="NOT_MOUNTED",t.MOUNTING="MOUNTING";var s="MOUNTED";t.MOUNTED=s,t.UPDATING="UPDATING",t.UNMOUNTING="UNMOUNTING",t.UNLOADING="UNLOADING";var l="SKIP_BECAUSE_BROKEN";t.SKIP_BECAUSE_BROKEN=l},function(e,t,n){"use strict";function r(e,t){var n,r=t.unmountThisParcel?"Parcel":"Application",o="".concat(r," '").concat(t.name,"' died in status ").concat(t.status,": ");if(e instanceof Error){try{e.message=o+e.message}catch(e){}n=e}else{console.warn("While ".concat(t.status,", '").concat(t.name,"' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate."));try{n=new Error(o+JSON.stringify(e))}catch(t){n=e}}return n.appName=t.name,n.name=t.name,n}Object.defineProperty(t,"__esModule",{value:!0}),t.handleAppError=function(e,t){var n=r(e,t);i.length?i.forEach(function(e){return e(n)}):setTimeout(function(){throw n})},t.addErrorHandler=function(e){if("function"!=typeof e)throw new Error("a single-spa error handler must be a function");i.push(e)},t.removeErrorHandler=function(e){if("function"!=typeof e)throw new Error("a single-spa error handler must be a function");var t=!1;return i=i.filter(function(n){var r=n===e;return t=t||r,!r}),t},t.transformErr=r;var o;(o=n(8))&&o.__esModule;var i=[]},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.setBootstrapMaxTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof e||e<=0)throw new Error("bootstrap max time must be a positive integer number of milliseconds");o.bootstrap={millis:e,dieOnTimeout:t}},t.setMountMaxTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof e||e<=0)throw new Error("mount max time must be a positive integer number of milliseconds");o.mount={millis:e,dieOnTimeout:t}},t.setUnmountMaxTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof e||e<=0)throw new Error("unmount max time must be a positive integer number of milliseconds");o.unmount={millis:e,dieOnTimeout:t}},t.setUnloadMaxTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof e||e<=0)throw new Error("unload max time must be a positive integer number of milliseconds");o.unload={millis:e,dieOnTimeout:t}},t.reasonableTime=function(e,t,n){var r=1e3;return new Promise(function(o,i){function u(e){if(!a)if(!0===e)c=!0,n.dieOnTimeout?i("".concat(t," did not resolve or reject for ").concat(n.millis," milliseconds")):console.error("".concat(t," did not resolve or reject for ").concat(n.millis," milliseconds -- we're no longer going to warn you about it."));else if(!c){var o=e,s=o*r;console.warn("".concat(t," did not resolve or reject within ").concat(s," milliseconds")),s+r<n.millis&&setTimeout(function(){return u(o+1)},r)}}var a=!1,c=!1;e.then(function(e){a=!0,o(e)}).catch(function(e){a=!0,i(e)}),setTimeout(function(){return u(1)},r),setTimeout(function(){return u(!0)},n.millis)})},t.ensureValidAppTimeouts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},o,e)};var o={bootstrap:{millis:4e3,dieOnTimeout:!1},mount:{millis:3e3,dieOnTimeout:!1},unmount:{millis:3e3,dieOnTimeout:!1},unload:{millis:3e3,dieOnTimeout:!1}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getProps=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},e.customProps,{name:e.name,mountParcel:o.mountParcel.bind(e)});return e.unmountThisParcel&&(t.unmountSelf=e.unmountThisParcel),t};var o=n(14)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.find=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reroute=function e(){function t(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=(0,l.getMountedApps)();t&&n(),r.forEach(function(e){return e.resolve(i)});try{var u=m?"single-spa:no-app-change":"single-spa:app-change";window.dispatchEvent(new o.default(u)),window.dispatchEvent(new o.default("single-spa:routing-event"))}catch(e){setTimeout(function(){throw e})}if(d=!1,h.length>0){var a=h;h=[],e(a)}return i}function n(){r.forEach(function(e){(0,f.callCapturedEventListeners)(e.eventArguments)}),(0,f.callCapturedEventListeners)(v)}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0;if(d)return new Promise(function(e,t){h.push({resolve:e,reject:t,eventArguments:v})});d=!0;var m=!0;return(0,i.isStarted)()?Promise.resolve().then(function(){var e;v&&v[0]&&(e={detail:v[0]}),window.dispatchEvent(new o.default("single-spa:before-routing-event",e));var i=(0,p.getAppsToUnload)().map(p.toUnloadPromise),f=(0,l.getAppsToUnmount)().map(s.toUnmountPromise).map(function(e){return e.then(p.toUnloadPromise)}),d=f.concat(i);d.length>0&&(m=!1);var h=Promise.all(d),y=(0,l.getAppsToLoad)(),b=y.map(function(e){return(0,u.toLoadPromise)(e).then(a.toBootstrapPromise).then(function(e){return h.then(function(){return(0,c.toMountPromise)(e)})})});b.length>0&&(m=!1);var g=(0,l.getAppsToMount)().filter(function(e){return y.indexOf(e)<0}).map(function(e){return(0,a.toBootstrapPromise)(e).then(function(){return h}).then(function(){return(0,c.toMountPromise)(e)})});return g.length>0&&(m=!1),h.catch(function(e){throw n(),e}).then(function(){return n(),Promise.all(b.concat(g)).catch(function(e){throw r.forEach(function(t){return t.reject(e)}),e}).then(function(){return t(!1)})})}):Promise.resolve().then(function(){var e=(0,l.getAppsToLoad)().map(u.toLoadPromise);return e.length>0&&(m=!1),Promise.all(e).then(t).catch(function(e){throw n(),e})})};var r,o=(r=n(8))&&r.__esModule?r:{default:r},i=n(16),u=n(19),a=n(13),c=n(12),s=n(7),l=n(11),f=(n(0),n(6)),p=n(9),d=!1,h=[]},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e)t=e;else if(this&&this.href)t=this.href;else{if(!(e&&e.currentTarget&&e.currentTarget.href&&e.preventDefault))throw new Error("singleSpaNavigate must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag");t=e.currentTarget.href,e.preventDefault()}var r=i(window.location.href),o=i(t);if(0===t.indexOf("#"))window.location.hash="#"+o.anchor;else if(r.host!==o.host&&o.host){if(n.isTestingEnv)return{wouldHaveReloadedThePage:!0};window.location.href=t}else!function(e,t){return t===e||t==="/"+e}(o.path,r.path)?window.history.pushState(null,null,t):window.location.hash="#"+o.anchor}function o(){(0,u.reroute)([],arguments)}function i(e){for(var t={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},o=14;o--;)r[t.key[o]]=n[o]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,o){n&&(r[t.q.name][n]=o)}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.navigateToUrl=r,t.callCapturedEventListeners=function(e){var t=this;if(e){var n=e[0].type;s.indexOf(n)>=0&&c[n].forEach(function(n){n.apply(t,e)})}},t.routingEventsListeningTo=void 0;var u=n(5),a=n(4),c={hashchange:[],popstate:[]},s=["hashchange","popstate"];t.routingEventsListeningTo=s,window.addEventListener("hashchange",o),window.addEventListener("popstate",o);var l=window.addEventListener,f=window.removeEventListener;window.addEventListener=function(e,t){if(!("function"==typeof t&&s.indexOf(e)>=0)||(0,a.find)(c[e],function(e){return e===t}))return l.apply(this,arguments);c[e].push(t)},window.removeEventListener=function(e,t){if(!("function"==typeof t&&s.indexOf(e)>=0))return f.apply(this,arguments);c[e]=c[e].filter(function(e){return e!==t})};var p=window.history.pushState;window.history.pushState=function(e){var t=p.apply(this,arguments);return(0,u.reroute)(),t};var d=window.history.replaceState;window.history.replaceState=function(){var e=d.apply(this,arguments);return(0,u.reroute)(),e},window.singleSpaNavigate=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUnmountPromise=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){function n(){return(0,i.reasonableTime)(e.unmount((0,u.getProps)(e)),"Unmounting application ".concat(e.name,"'"),e.timeouts.unmount).then(function(){a||(e.status=r.NOT_MOUNTED)}).catch(function(n){if(t){var i=(0,o.transformErr)(n,e);throw e.status=r.SKIP_BECAUSE_BROKEN,i}(0,o.handleAppError)(n,e),e.status=r.SKIP_BECAUSE_BROKEN})}if(e.status!==r.MOUNTED)return e;e.status=r.UNMOUNTING;var a,c=Object.keys(e.parcels).map(function(t){return e.parcels[t].unmountThisParcel()});return Promise.all(c).then(n,function(i){return n().then(function(){var n=new Error(i.message);if(t){var u=(0,o.transformErr)(n,e);throw e.status=r.SKIP_BECAUSE_BROKEN,u}(0,o.handleAppError)(n,e),e.status=r.SKIP_BECAUSE_BROKEN})}).then(function(){return e})})};var r=n(0),o=n(1),i=n(2),u=n(3)},function(e,t,n){(function(t){var n=t.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,n(20))},function(e,t,n){"use strict";function r(e,t){delete c[e.name],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,e.status=o.NOT_LOADED,t.resolve()}Object.defineProperty(t,"__esModule",{value:!0}),t.toUnloadPromise=function(e){return Promise.resolve().then(function(){var t=c[e.name];return t?e.status===o.NOT_LOADED?(r(e,t),e):e.status===o.UNLOADING?t.promise.then(function(){return e}):e.status!==o.NOT_MOUNTED?e:(e.status=o.UNLOADING,(0,u.reasonableTime)(e.unload((0,a.getProps)(e)),"Unloading application '".concat(e.name,"'"),e.timeouts.unload).then(function(){return r(e,t),e}).catch(function(n){return function(e,t,n){delete c[e.name],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,(0,i.handleAppError)(n,e),e.status=o.SKIP_BECAUSE_BROKEN,t.reject(n)}(e,t,n),e})):e})},t.addAppToUnload=function(e,t,n,r){c[e.name]={app:e,resolve:n,reject:r},Object.defineProperty(c[e.name],"promise",{get:t})},t.getAppUnloadInfo=function(e){return c[e]},t.getAppsToUnload=function(){return Object.keys(c).map(function(e){return c[e].app}).filter(o.isntActive)};var o=n(0),i=n(1),u=n(2),a=n(3),c={}},function(e,t,n){"use strict";function r(e,t,n,r,i){return"string"!=typeof n?e.apply(this,i):(n.split(/\s+/).forEach(function(e){o.routingEventsListeningTo.indexOf(e)>=0&&(t(e,r),n=n.replace(e,""))}),""===n.trim()?this:e.apply(this,i))}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureJQuerySupport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(e||window.$&&window.$.fn&&window.$.fn.jquery&&(e=window.$),e&&!i){var t=e.fn.on,n=e.fn.off;e.fn.on=function(e,n){return r.call(this,t,window.addEventListener,e,n,arguments)},e.fn.off=function(e,t){return r.call(this,n,window.removeEventListener,e,t,arguments)},i=!0}};var o=n(6),i=!1},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return h.map(s.toName)}function i(e,t,n){var i,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof e||0===e.length)throw new Error("The first argument must be a non-empty string 'appName'");if(-1!==o().indexOf(e))throw new Error("There is already an app declared with name ".concat(e));if("object"!==r(u)||Array.isArray(u))throw new Error("customProps must be an object");if(!t)throw new Error("The application or loading function is required");if(i="function"!=typeof t?function(){return Promise.resolve(t)}:t,"function"!=typeof n)throw new Error("The activeWhen argument must be a function");h.push({name:e,loadImpl:i,activeWhen:n,status:s.NOT_LOADED,parcels:{},customProps:u}),(0,c.ensureJQuerySupport)(),(0,l.reroute)()}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof e)throw new Error("unloadApplication requires a string 'appName'");var n=(0,f.find)(h,function(t){return t.name===e});if(!n)throw new Error("Could not unload application '".concat(e,"' because no such application has been declared"));var r,o=(0,d.getAppUnloadInfo)(n.name);if(t&&t.waitForUnmount){if(o)return o.promise;var i=new Promise(function(e,t){(0,d.addAppToUnload)(n,function(){return i},e,t)});return i}return o?(r=o.promise,a(n,o.resolve,o.reject)):r=new Promise(function(e,t){(0,d.addAppToUnload)(n,function(){return r},e,t),a(n,e,t)}),r}function a(e,t,n){(0,p.toUnmountPromise)(e).then(d.toUnloadPromise).then(function(){t(),setTimeout(function(){(0,l.reroute)()})}).catch(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.getMountedApps=function(){return h.filter(s.isActive).map(s.toName)},t.getAppNames=o,t.getAppStatus=function(e){var t=(0,f.find)(h,function(t){return t.name===e});return t?t.status:null},t.declareChildApplication=function(e,t,n){return console.warn('declareChildApplication is deprecated and will be removed in the next major version, use "registerApplication" instead'),i(e,t,n)},t.registerApplication=i,t.checkActivityFunctions=function(e){for(var t=[],n=0;n<h.length;n++)h[n].activeWhen(e)&&t.push(h[n].name);return t},t.getAppsToLoad=function(){return h.filter(s.notSkipped).filter(s.isntLoaded).filter(s.shouldBeActive)},t.getAppsToUnmount=function(){return h.filter(s.notSkipped).filter(s.isActive).filter(s.shouldntBeActive)},t.getAppsToMount=function(){return h.filter(s.notSkipped).filter(s.isntActive).filter(s.isLoaded).filter(s.shouldBeActive)},t.unloadChildApplication=function(e,t){return console.warn('unloadChildApplication is deprecated and will be removed in the next major version, use "unloadApplication" instead'),u(e,t)},t.unloadApplication=u;var c=n(10),s=n(0),l=n(5),f=n(4),p=n(7),d=n(9),h=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toMountPromise=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){return e.status!==o.NOT_MOUNTED?e:(s||(window.dispatchEvent(new a.default("single-spa:before-first-mount")),s=!0),(0,u.reasonableTime)(e.mount((0,c.getProps)(e)),"Mounting application '".concat(e.name,"'"),e.timeouts.mount).then(function(){return e.status=o.MOUNTED,l||(window.dispatchEvent(new a.default("single-spa:first-mount")),l=!0),e}).catch(function(n){if(t){var r=(0,i.transformErr)(n,e);throw e.status=o.SKIP_BECAUSE_BROKEN,r}return(0,i.handleAppError)(n,e),e.status=o.SKIP_BECAUSE_BROKEN,e}))})};var r,o=n(0),i=n(1),u=n(2),a=(r=n(8))&&r.__esModule?r:{default:r},c=n(3),s=!1,l=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBootstrapPromise=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){return e.status!==r.NOT_BOOTSTRAPPED?e:(e.status=r.BOOTSTRAPPING,(0,o.reasonableTime)(e.bootstrap((0,u.getProps)(e)),"Bootstrapping appOrParcel '".concat(e.name,"'"),e.timeouts.bootstrap).then(function(){return e.status=r.NOT_MOUNTED,e}).catch(function(n){if(e.status=r.SKIP_BECAUSE_BROKEN,t){throw(0,i.transformErr)(n,e)}return(0,i.handleAppError)(n,e),e}))})};var r=n(0),o=n(2),i=n(1),u=n(3)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=this;if(!e||"object"!==r(e)&&"function"!=typeof e)throw new Error("Cannot mount parcel without a config object or config loading function");if(e.name&&"string"!=typeof e.name)throw new Error("Parcel name must be a string, if provided");if("object"!==r(t))throw new Error("Parcel ".concat(name," has invalid customProps -- must be an object"));if(!t.domElement)throw new Error("Parcel ".concat(name," cannot be mounted without a domElement provided as a prop"));var o,h=d++,v="function"==typeof e,m=v?e:function(){return Promise.resolve(e)},y={id:h,parcels:{},status:v?a.LOADING_SOURCE_CODE:a.NOT_BOOTSTRAPPED,customProps:t,owningAppOrParcel:n,unmountThisParcel:function(){if(y.status!==a.MOUNTED)throw new Error("Cannot unmount parcel '".concat(name,"' -- it is in a ").concat(y.status," status"));return(0,f.toUnmountPromise)(y,!0).then(function(e){return y.owningAppOrParcel&&delete y.owningAppOrParcel.parcels[y.id],e}).then(function(e){return g(e),e}).catch(function(e){throw y.status=a.SKIP_BECAUSE_BROKEN,w(e),e})}};n.parcels[h]=y;var b=m();if(!b||"function"!=typeof b.then)throw new Error("When mounting a parcel, the config loading function must return a promise that resolves with the parcel config");var g,w,O=(b=b.then(function(e){if(!e)throw new Error("When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config");var t=e.name||"parcel-".concat(h);if(!(0,u.validLifecycleFn)(e.bootstrap))throw new Error("Parcel ".concat(t," must have a valid bootstrap function"));if(!(0,u.validLifecycleFn)(e.mount))throw new Error("Parcel ".concat(t," must have a valid mount function"));if(!(0,u.validLifecycleFn)(e.unmount))throw new Error("Parcel ".concat(t," must have a valid unmount function"));if(e.update&&!(0,u.validLifecycleFn)(e.update))throw new Error("Parcel ".concat(t," provided an invalid update function"));var n=(0,u.flattenFnArray)(e.bootstrap),r=(0,u.flattenFnArray)(e.mount),c=(0,u.flattenFnArray)(e.unmount);y.status=a.NOT_BOOTSTRAPPED,y.name=t,y.bootstrap=n,y.mount=r,y.unmount=c,y.timeouts=(0,p.ensureValidAppTimeouts)(y),e.update&&(y.update=(0,u.flattenFnArray)(e.update),o.update=function(e){return y.customProps=e,i((0,l.toUpdatePromise)(y))})})).then(function(){return(0,c.toBootstrapPromise)(y,!0)}),P=O.then(function(){return(0,s.toMountPromise)(y,!0)}),_=new Promise(function(e,t){g=e,w=t});return o={mount:function(){return i(Promise.resolve().then(function(){if(y.status!==a.NOT_MOUNTED)throw new Error("Cannot mount parcel '".concat(name,"' -- it is in a ").concat(y.status," status"));return n.parcels[h]=y,(0,s.toMountPromise)(y)}))},unmount:function(){return i(y.unmountThisParcel())},getStatus:function(){return y.status},loadPromise:i(b),bootstrapPromise:i(O),mountPromise:i(P),unmountPromise:i(_)}}function i(e){return e.then(function(){return null})}Object.defineProperty(t,"__esModule",{value:!0}),t.mountRootParcel=function(){return o.apply(h,arguments)},t.mountParcel=o;var u=n(15),a=n(0),c=n(13),s=n(12),l=n(18),f=n(7),p=n(2);n(1);var d=0,h={parcels:{}}},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}Object.defineProperty(t,"__esModule",{value:!0}),t.validLifecycleFn=function(e){return e&&("function"==typeof e||(t=e,Array.isArray(t)&&!(0,o.find)(t,function(e){return"function"!=typeof e})));var t},t.flattenFnArray=function(e,t){return 0===(e=Array.isArray(e)?e:[e]).length&&(e=[function(){return Promise.resolve()}]),function(n){return new Promise(function(o,i){!function u(a){var c=e[a](n);r(c)?c.then(function(){a===e.length-1?o():u(a+1)}).catch(i):i("".concat(t," at index ").concat(a," did not return a promise"))}(0)})}},t.smellsLikeAPromise=r;var o=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(){t.started=o=!0,(0,r.reroute)()},t.isStarted=function(){return o},t.started=void 0;var r=n(5),o=!1;t.started=o,setTimeout(function(){o||console.warn("singleSpa.start() has not been called, ".concat(5e3,"ms after single-spa was loaded. Before start() is called, apps can be declared and loaded, but not bootstrapped or mounted. See https://github.com/CanopyTax/single-spa/blob/master/docs/single-spa-api.md#start"))},5e3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"start",{enumerable:!0,get:function(){return r.start}}),Object.defineProperty(t,"ensureJQuerySupport",{enumerable:!0,get:function(){return o.ensureJQuerySupport}}),Object.defineProperty(t,"setBootstrapMaxTime",{enumerable:!0,get:function(){return i.setBootstrapMaxTime}}),Object.defineProperty(t,"setMountMaxTime",{enumerable:!0,get:function(){return i.setMountMaxTime}}),Object.defineProperty(t,"setUnmountMaxTime",{enumerable:!0,get:function(){return i.setUnmountMaxTime}}),Object.defineProperty(t,"setUnloadMaxTime",{enumerable:!0,get:function(){return i.setUnloadMaxTime}}),Object.defineProperty(t,"registerApplication",{enumerable:!0,get:function(){return u.registerApplication}}),Object.defineProperty(t,"getMountedApps",{enumerable:!0,get:function(){return u.getMountedApps}}),Object.defineProperty(t,"getAppStatus",{enumerable:!0,get:function(){return u.getAppStatus}}),Object.defineProperty(t,"unloadApplication",{enumerable:!0,get:function(){return u.unloadApplication}}),Object.defineProperty(t,"checkActivityFunctions",{enumerable:!0,get:function(){return u.checkActivityFunctions}}),Object.defineProperty(t,"getAppNames",{enumerable:!0,get:function(){return u.getAppNames}}),Object.defineProperty(t,"declareChildApplication",{enumerable:!0,get:function(){return u.declareChildApplication}}),Object.defineProperty(t,"unloadChildApplication",{enumerable:!0,get:function(){return u.unloadChildApplication}}),Object.defineProperty(t,"navigateToUrl",{enumerable:!0,get:function(){return a.navigateToUrl}}),Object.defineProperty(t,"triggerAppChange",{enumerable:!0,get:function(){return c.reroute}}),Object.defineProperty(t,"addErrorHandler",{enumerable:!0,get:function(){return s.addErrorHandler}}),Object.defineProperty(t,"removeErrorHandler",{enumerable:!0,get:function(){return s.removeErrorHandler}}),Object.defineProperty(t,"mountRootParcel",{enumerable:!0,get:function(){return l.mountRootParcel}}),Object.defineProperty(t,"NOT_LOADED",{enumerable:!0,get:function(){return f.NOT_LOADED}}),Object.defineProperty(t,"LOADING_SOURCE_CODE",{enumerable:!0,get:function(){return f.LOADING_SOURCE_CODE}}),Object.defineProperty(t,"NOT_BOOTSTRAPPED",{enumerable:!0,get:function(){return f.NOT_BOOTSTRAPPED}}),Object.defineProperty(t,"BOOTSTRAPPING",{enumerable:!0,get:function(){return f.BOOTSTRAPPING}}),Object.defineProperty(t,"NOT_MOUNTED",{enumerable:!0,get:function(){return f.NOT_MOUNTED}}),Object.defineProperty(t,"MOUNTING",{enumerable:!0,get:function(){return f.MOUNTING}}),Object.defineProperty(t,"UPDATING",{enumerable:!0,get:function(){return f.UPDATING}}),Object.defineProperty(t,"MOUNTED",{enumerable:!0,get:function(){return f.MOUNTED}}),Object.defineProperty(t,"UNMOUNTING",{enumerable:!0,get:function(){return f.UNMOUNTING}}),Object.defineProperty(t,"SKIP_BECAUSE_BROKEN",{enumerable:!0,get:function(){return f.SKIP_BECAUSE_BROKEN}});var r=n(16),o=n(10),i=n(2),u=n(11),a=n(6),c=n(5),s=n(1),l=n(14),f=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUpdatePromise=function(e){return Promise.resolve().then(function(){if(e.status!==r.MOUNTED)throw new Error("Cannot update parcel '".concat(e.name,"' because it is not mounted"));return e.status=r.UPDATING,(0,i.reasonableTime)(e.update((0,u.getProps)(e)),"Updating parcel '".concat(e.name,"'"),e.timeouts.mount).then(function(){return e.status=r.MOUNTED,e}).catch(function(t){var n=(0,o.transformErr)(t,e);throw e.status=r.SKIP_BECAUSE_BROKEN,n})})};var r=n(0),o=n(1),i=n(2),u=n(3)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.toLoadPromise=function(e){return Promise.resolve().then(function(){return e.status!==o.NOT_LOADED?e:(e.status=o.LOADING_SOURCE_CODE,Promise.resolve().then(function(){var n=e.loadImpl((0,c.getProps)(e));if(!(0,a.smellsLikeAPromise)(n))throw new Error("single-spa loading function did not return a promise. Check the second argument to registerApplication('".concat(e.name,"', loadingFunction, activityFunction)"));return n.then(function(n){var c;return"object"!==r(t=n)&&(c="does not export anything"),(0,a.validLifecycleFn)(t.bootstrap)||(c="does not export a bootstrap function or array of functions"),(0,a.validLifecycleFn)(t.mount)||(c="does not export a mount function or array of functions"),(0,a.validLifecycleFn)(t.unmount)||(c="does not export an unmount function or array of functions"),c?((0,u.handleAppError)(c,e),e.status=o.SKIP_BECAUSE_BROKEN,e):(e.status=o.NOT_BOOTSTRAPPED,e.bootstrap=(0,a.flattenFnArray)(t.bootstrap,"App '".concat(e.name,"' bootstrap function")),e.mount=(0,a.flattenFnArray)(t.mount,"App '".concat(e.name,"' mount function")),e.unmount=(0,a.flattenFnArray)(t.unmount,"App '".concat(e.name,"' unmount function")),e.unload=(0,a.flattenFnArray)(t.unload||[],"App '".concat(e.name,"' unload function")),e.timeouts=(0,i.ensureValidAppTimeouts)(t.timeouts),e)})}).catch(function(t){return(0,u.handleAppError)(t,e),e.status=o.SKIP_BECAUSE_BROKEN,e}));var t})};var o=n(0),i=n(2),u=n(1),a=(n(4),n(15)),c=n(3)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(17)}])})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if("object"!==(void 0===e?"undefined":h(e)))throw new Error("single-spa-react requires a configuration object");var n=d({},m,e);if(!n.React)throw new Error("single-spa-react must be passed opts.React");if(!n.ReactDOM)throw new Error("single-spa-react must be passed opts.ReactDOM");if(!n.rootComponent&&!n.loadRootComponent)throw new Error("single-spa-react must be passed opts.rootComponent or opts.loadRootComponent");!v&&n.React.createContext&&(t.SingleSpaContext=v=n.React.createContext());var r={bootstrap:i.bind(null,n),mount:u.bind(null,n),unmount:a.bind(null,n)};return n.parcelCanUpdate&&(r.update=c.bind(null,n)),r}function i(e,t){return e.rootComponent?Promise.resolve():e.loadRootComponent().then(function(t){e.rootComponent=t})}function u(e,t){return new Promise(function(n,r){e.rootComponent.prototype.componentDidCatch||e.suppressComponentDidCatchWarning||!l(e.React)||console.warn("single-spa-react: "+(t.name||t.appName||t.childAppName)+"'s rootComponent should implement componentDidCatch to avoid accidentally unmounting the entire single-spa application.");var o=f(e,t);if(!o)throw new Error("Cannot mount react application '"+(t.appName||t.name)+"' without a domElementGetter provided in either opts or props");var i=function(){n(this)},u=e.React.createElement(e.rootComponent,t),a=v?e.React.createElement(v.Provider,{value:t},u):u,c=s(o);e.ReactDOM.render(a,c,i);e.domElement=c})}function a(e,t){return Promise.resolve().then(function(){e.ReactDOM.unmountComponentAtNode(e.domElement)})}function c(e,t){return new Promise(function(n,r){var o=function(){n(this)},i=e.React.createElement(e.rootComponent,t),u=v?e.React.createElement(v.Provider,{value:t},i):i;e.ReactDOM.render(u,e.domElement,o)})}function s(e){var t=e();if(!t)throw new Error("single-spa-react: domElementGetter function did not return a valid dom element");return t}function l(e){if(!(e&&"string"==typeof e.version&&e.version.indexOf(".")>=0))return!1;var t=e.version.slice(0,e.version.indexOf("."));try{return Number(t)>=16}catch(e){return!1}}function f(e,t){return t=t&&t.customProps?t.customProps:t,t.domElement?function(){return t.domElement}:t.domElementGetter?t.domElementGetter:e.domElementGetter}Object.defineProperty(t,"__esModule",{value:!0});var p,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=o;var v=t.SingleSpaContext=null,m=(p={React:null,ReactDOM:null,rootComponent:null,loadRootComponent:null,domElementGetter:null,suppressComponentDidCatchWarning:!1},r(p,"domElementGetter",null),r(p,"parcelCanUpdate",!0),p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coreApiFactory=void 0;var r=n(1),o=n(4),i=t.coreApiFactory=function(e){var t=arguments,n=[],i=[],u=function(e,t,r){var o=new Promise(function(n,o){e.provider(t,r),n()});return n.push(o),e},a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return n.push(function(){return new Promise(function(n,i){e.serviceFactory.apply(e,[t,o.appfactory,"skeletonpwa","skeletonConfig","$document","api","dom","$window","state","datastore","coreApi","singleSpa","singleSpaReact","appCfg","vent"].concat(r)),n()})}()),e},c=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=new Promise(function(n,i){r.$name=t,r.$inject=Array.isArray(r.$inject)?r.$inject:[].concat(o),e.register(r),n()});return n.push(i),e},s=function(e,r,o){var i=t.length>3?slice.call(t,3):null,u=new Promise(function(t,n){e.service.apply(e,[r,o].concat(i)),t()});return n.push(u),e},l=function(e,r,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];t.length>4&&slice.call(t,4);o.$name=r,o.$type="serviceFactory",o.$inject=Array.isArray(o.$inject)?o.$inject:[].concat(i);var u=new Promise(function(t,n){e.register(o),t()});return n.push(u),e},f=function(e,t,r){var o=new Promise(function(n,o){e.factory(t,r),n()});return n.push(o),e},p=function(e,t,r){var o=new Promise(function(n,o){e.constant(t,r),n()});return n.push(o),e},d=function(e,t,r){var o=new Promise(function(n,o){e.value(t,r),n()});return n.push(o),e},h=function(e,t,r){var o=new Promise(function(n,o){e.value(t,r),n()});return n.push(o),e},v=function(e){return new Promise(function(t,n){r.skeletonPwa.container[e]&&(delete r.skeletonPwa.container[e],t()),n("Shell not bootstraped yet")})},m=function(e){i.push(e)};r.skeletonPwa.component=c.bind(null,r.skeletonPwa),r.skeletonPwa.componentFactory=l.bind(null,r.skeletonPwa),r.skeletonPwa.package=a.bind(null,r.skeletonPwa);var y={};return y.provider=u.bind(null,r.skeletonPwa),y.service=s.bind(null,r.skeletonPwa),y.factory=f.bind(null,r.skeletonPwa),y.middleware=h.bind(null,r.skeletonPwa),y.value=d.bind(null,r.skeletonPwa),y.constant=p.bind(null,r.skeletonPwa),y.serviceFactory=l.bind(null,r.skeletonPwa),y.package=a.bind(null,r.skeletonPwa),y.componentFactory=l.bind(null,r.skeletonPwa),y.component=c.bind(null,r.skeletonPwa),y.resolveAll=function(){return Promise.all(n)},y.destroy=v,y.run=m,y.runAll=function(e){var t=function(e){return function(t){return new Promise(function(n,r){n(t(e.app))})}}(e),n=i.reduce(function(e,n){return e.push(t(n)),e},[]);return Promise.all(n).then(function(t){return Promise.resolve(e)})},y};i.$name="coreApi",i.$type="factory"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.configFactory=function(e){var t=e.$register,n=e.skeletonConfig,r=e.http;return function(e){var o=void 0;if(e)o=e;else{var i=new r({apiBase:n.api});o=i.get(n.publicConfig)}var u={},a=n;return o.then(function(e){return u.$name="appCfg",u.$type="constant",u.$value=Object.assign({reload:function(){return o.then(function(e){return e})}},a,e),Promise.resolve(t(u))}).catch(function(e){return u.$name="appCfg",u.$type="constant",u.$value=Object.assign({reload:function(){return o.then(function(e){return e})}},a),Promise.resolve(t(u))})}};r.$name="loadcfg",r.$type="factory"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RouterService=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),c=r(a),s=n(19),l=r(s),f=t.RouterService=function(){function e(t){return o(this,e),this.routes=t.routes?t.routes:[],this.url=function(e){return function(t){return(0,l.default)(e,t)}},this.opts=t.routeConfig,this.universalrouter=new c.default(this.routes,this.opts),this.genurl=this.url(this.universalrouter),this}return u(e,[{key:"route",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.universalrouter.resolve(i({pathname:e},t))}},{key:"genUrl",value:function(e,t,n){return this.genurl(n)(e,t)}},{key:"addRoute",value:function(e){return this.universalrouter.root.children.push(e),this}}]),e}();f.$name="state",f.$inject=["skeletonConfig"]},function(e,t){function n(e,t){for(var n,r=[],o=0,a=0,c="",s=t&&t.delimiter||d,l=t&&t.delimiters||h,f=!1;null!==(n=v.exec(e));){var p=n[0],m=n[1],y=n.index;if(c+=e.slice(a,y),a=y+p.length,m)c+=m[1],f=!0;else{var b="",g=e[a],w=n[2],O=n[3],P=n[4],_=n[5];if(!f&&c.length){var E=c.length-1;l.indexOf(c[E])>-1&&(b=c[E],c=c.slice(0,E))}c&&(r.push(c),c="",f=!1);var j=""!==b&&void 0!==g&&g!==b,A="+"===_||"*"===_,M="?"===_||"*"===_,T=b||s,x=O||P;r.push({name:w||o++,prefix:b,delimiter:T,optional:M,repeat:A,partial:j,pattern:x?u(x):"[^"+i(T)+"]+?"})}}return(c||a<e.length)&&r.push(c+e.substr(a)),r}function r(e,t){return o(n(e,t))}function o(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var o="",i=r&&r.encode||encodeURIComponent,u=0;u<e.length;u++){var a=e[u];if("string"!=typeof a){var c,s=n?n[a.name]:void 0;if(Array.isArray(s)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but got array');if(0===s.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var l=0;l<s.length;l++){if(c=i(s[l],a),!t[u].test(c))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'"');o+=(0===l?a.prefix:a.delimiter)+c}}else if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s){if(!a.optional)throw new TypeError('Expected "'+a.name+'" to be '+(a.repeat?"an array":"a string"));a.partial&&(o+=a.prefix)}else{if(c=i(String(s),a),!t[u].test(c))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but got "'+c+'"');o+=a.prefix+c}}else o+=a}return o}}function i(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function a(e){return e&&e.sensitive?"":"i"}function c(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}function s(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(p(e[o],t,n).source);return new RegExp("(?:"+r.join("|")+")",a(n))}function l(e,t,r){return f(n(e,r),t,r)}function f(e,t,n){n=n||{};for(var r=n.strict,o=!1!==n.end,u=i(n.delimiter||d),c=n.delimiters||h,s=[].concat(n.endsWith||[]).map(i).concat("$").join("|"),l="",f=0===e.length,p=0;p<e.length;p++){var v=e[p];if("string"==typeof v)l+=i(v),f=p===e.length-1&&c.indexOf(v[v.length-1])>-1;else{var m=i(v.prefix),y=v.repeat?"(?:"+v.pattern+")(?:"+m+"(?:"+v.pattern+"))*":v.pattern;t&&t.push(v),v.optional?v.partial?l+=m+"("+y+")?":l+="(?:"+m+"("+y+"))?":l+=m+"("+y+")"}}return o?(r||(l+="(?:"+u+")?"),l+="$"===s?"$":"(?="+s+")"):(r||(l+="(?:"+u+"(?="+s+"))?"),f||(l+="(?="+u+"|"+s+")")),new RegExp("^"+l,a(n))}function p(e,t,n){return e instanceof RegExp?c(e,t):Array.isArray(e)?s(e,t,n):l(e,t,n)}e.exports=p,e.exports.parse=n,e.exports.compile=r,e.exports.tokensToFunction=o,e.exports.tokensToRegExp=f;var d="/",h="./",v=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g")},function(e,t,n){"use strict";function r(e,t,n){if(e.has(t.name))throw new Error('Route "'+t.name+'" already exists');if(t.name&&e.set(t.name,t),n)for(var o=0;o<n.length;o++){var i=n[o];i.parent=t,r(e,i,i.children)}}function o(e,t){if(void 0===t&&(t={}),!(e instanceof i.default))throw new TypeError("An instance of UniversalRouter is expected");return e.routesByName=e.routesByName||new Map,function(n,o){var i=e.routesByName.get(n);if(!(i||(e.routesByName.clear(),r(e.routesByName,e.root,e.root.children),i=e.routesByName.get(n))))throw new Error('Route "'+n+'" not found');var c=a.get(i.fullPath);if(!c){for(var s="",l=i;l;){var f=Array.isArray(l.path)?l.path[0]:l.path;f&&(s=f+s),l=l.parent}for(var p=u.parse(s),d=u.tokensToFunction(p),h=Object.create(null),v=0;v<p.length;v++)"string"!=typeof p[v]&&(h[p[v].name]=!0);c={toPath:d,keys:h},a.set(s,c),i.fullPath=s}var m=e.baseUrl+c.toPath(o,t)||"/";if(t.stringifyQueryParams&&o){for(var y={},b=Object.keys(o),g=0;g<b.length;g++){var w=b[g];c.keys[w]||(y[w]=o[w])}var O=t.stringifyQueryParams(y);O&&(m+="?"===O.charAt(0)?O:"?"+O)}return m}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),u=i.default.pathToRegexp,a=new Map;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Dom=function(e,t){return e(t.elements)};r.$name="dom",r.$inject=["$createElement","skeletonConfig"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.apiFactory=function(e,t){return new e({apiBase:t.api})};r.$name="api",r.$type="serviceFactory",r.$inject=["http","skeletonConfig"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.buildUri=function(e){var t=function(){return e.prefixSite};return function(e){var n=e[0];return t()===n?e:""+t()+e}};r.$name="siteprefix",r.$type="serviceFactory",r.$inject=["skeletonConfig"]}])});