!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("skeletonpwa",[],t):"object"==typeof exports?exports.skeletonpwa=t():e.skeletonpwa=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VentView=t.View=t.GenericView=t.Vent=t.DomApi=t.ApiFactory=t.mix=void 0;var r=n(1),o=n(2),i=n(3),a=n(4),u=n(5);t.mix=r.mix,t.ApiFactory=o.ApiFactory,t.DomApi=i.DomApi,t.Vent=a.Vent,t.GenericView=u.GenericView,t.View=u.View,t.VentView=u.VentView},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(t.mix=function(e){return new i(e)},function(){function e(t){r(this,e),this.superclass=t}return o(e,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},this.superclass)}}]),e}())},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=r(e,[]),n=t.apiBase?t.apiBase:window.location.origin,o=t.apiPrefix?t.apiPrefix:"",i=t.defaultHeaders?t.defaultHeaders:{"Content-Type":"application/json"},a=function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=0===r.indexOf("http")?{}:i,c=o+r,s=0===r.indexOf("http")?c:n+c;return Object.assign(a,{method:e,credentials:t.credentials?t.credentials:"same-origin",headers:a.headers?Object.assign({},u,a.headers):u,isJson:!a.isJson||a.isJson}),new Promise(function(e,t){fetch(s,a).then(function(n){if(n.ok)n.redirected&&e(n),a.isJson&&e(n.json()),e(n);else{var r={},o=function(e){return{status:e.status,statusText:e.statusText,url:e.url}};a.isJson?n.json().then(function(e){Object.assign(r,o(n)),r.traceback=e,r.message=e,t(r)}).catch(function(e){t(e)}):t(n)}}).catch(function(e){t(e)})})};return["GET","PUT","POST","PATCH","DELETE"].forEach(function(e){a[e.toLowerCase()]=function(t,n){return a(e,t,n)}}),a.setCommonHeader=function(e,t){return i[e]=t,i},a.unsetCommonHeader=function(e){return delete i[e],i},Object.keys(i).forEach(function(e){var t=i[e];a.setCommonHeader(e,t)}),a};t.ApiFactory=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomApi=function(e){function t(e,t){var n=Math.round(Math.random()*Date.now()).toString(20).substr(0,4);Object.keys(e).forEach(function(n){return t[n]=e[n]}),t.setAttribute("uid",n)}function n(e,t){return!(!e||!e.match||(t.innerHTML=e,0))}function r(e){return function(r,o){var i=document.createElement(e);return r&&t(r,i),o&&(o.map&&o.forEach(function(e){n(e,i)||i.appendChild(e)}),n(o,i)),i}}return function(e){var t=function(e){return r(e)},n=["h1","div","span","article","a","nav","button"];return(Array.isArray(e)?n.concat(e):n).forEach(function(e){t[e.toLowerCase()]=t.bind(null,e)()}),t}(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Vent=function(){function e(){r(this,e),this._collection=new Map}return o(e,[{key:"on",value:function(e,t){return this._collection.set(e,Array.isArray(this._collection.get(e))?this._collection.get(e):[]),this._collection.get(e).push(t),this}},{key:"once",value:function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return n.listener=t,this.on(e,t),this}},{key:"off",value:function(e,t){var n=this._collection.get(e),r=0;if(Array.isArray(n)){for(r;r<n.length;r+=1)if(n[r]===t||n[r].listener===t){n.splice(r,1);break}0===n.length&&this.removeAllListeners(e)}return this}},{key:"removeAllListeners",value:function(e){return this._collection.delete(e),this}},{key:"listeners",value:function(e){return this._collection.get(e)}},{key:"emit",value:function(){var e,t=[].slice.call(arguments,0),n=t.shift(),r=this._collection.get(n),o=0;if(r)for(r=r.slice(0),e=r.length,o;o<e;o+=1)r[o].apply(this,t);return this}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VentView=t.View=t.GenericView=void 0;var r=n(6);t.GenericView=r.GenericView,t.View=r.View,t.VentView=r.VentView},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VentView=t.GenericView=t.View=void 0;var r=n(7),o=n(8),i=n(9);t.View=o.View,t.GenericView=r.GenericView,t.VentView=i.VentView},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.GenericView=function(e){return function(e){function t(e,n,i,a,u){r(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,a,u));return c.genericPanel=[],c}return i(t,e),a(t,[{key:"listener",value:function(){(function(e){}).bind(null,this).apply(void 0,arguments)}},{key:"componentDidMount",value:function(){return this.template=this.createFirstTemplate(),this.loadData(),this.template}},{key:"createFirstTemplate",value:function(){return this.dom.div({className:this.viewClassName},'<div class="content-loading">Loading content...</div>')}},{key:"createOfflineTemplate",value:function(){return this.dom.div({className:this.viewClassName},'<div class="offline-content">\nFailed to fetch new data. You might be offline and the data is not in cache yet.\n<div class="logo-icon"></div>\n</div>')}}]),t}(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.View=function(){function e(t,n,o,i,a){r(this,e),this.viewClassName=t,this.urlName=n,this.routeParams=o,this.app=a,this.dom=i,this.template=null}return o(e,[{key:"loadData",value:function(){}},{key:"createTemplate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidUnmount",value:function(){}},{key:"render",value:function(e){if(this.template.parentElement){var t=e?e():this.createTemplate();this.template.parentElement.replaceChild(t,this.template),this.template=t,this.componentDidUpdate(),this.template.classList.remove("loading")}}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.VentView=function(e){return function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"_render",value:function(){}},{key:"_mapDom",value:function(){}},{key:"_setEvents",value:function(){}},{key:"_handleClickEvent",value:function(e){}},{key:"_handleKeydownEvent",value:function(e){}},{key:"_removeEvents",value:function(){}}]),t}(e)}}])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vent=t.skeletonPwa=void 0;var r=n(7),o=n(3);r.ProgressiveEngine.instanceWaiters=[],r.ProgressiveEngine.prototype.status=function(){return{active:this.active,name:this.name}},r.ProgressiveEngine.onInstance=function(e){r.ProgressiveEngine.instanceWaiters.push(e)};(0,o.supportDomApi)(r.ProgressiveEngine),(0,o.supportApi)(r.ProgressiveEngine),(0,o.supportComponents)(r.ProgressiveEngine),function(e){var t=function(t,n){var r=n.resolve;n.reject;t.service("$vent",function(){return o.Vent}),t.service("mix",function(){return o.mix}),e.prototype.active=!0,r(t)};e.onInstance(t)}(r.ProgressiveEngine),function(e){var t=function(e,t){t.resolve,t.reject;e.service("singleSpaAngular",function(){return o.singleSpaAngular1}),e.service("singleSpaMithril",function(){return o.singleSpaMithril})};e.onInstance(t)}(r.ProgressiveEngine);var i=new r.ProgressiveEngine("skeleton");t.skeletonPwa=i,t.Vent=o.Vent},function(e,t,n){!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.mix=function(e){return new o(e)};var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.superclass=t}return r(e,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return t(e)},this.superclass)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyIoc=t.mix=void 0;var r=n(0),o=n(2);t.mix=r.mix,t.LazyIoc=o.LazyIoc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyIoc=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=n(3),a=t.LazyIoc=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.mix)(i.Container).with(i.ProviderMixin,i.ServiceMixin,i.FactoryMixin,i.DecorateMixin,i.ValueMixin,i.MiddlewareMixin,i.ConstantMixin)),r(t,[{key:"getNested",value:function(e,n){var r=e[n]?e[n]:e.container[n];if(void 0===r&&t.config.strict)throw new Error("Container was unable to resolve a service.  `"+n+"` is undefined.");return r}},{key:"getNestedModule",value:function(e){return this.nested[e]||(this.nested[e]=this.module())}},{key:"getNestedService",value:function(e){return e.split(".").reduce(this.getNested.bind(this),this)}},{key:"module",value:function(e){if("string"==typeof e){var n=this.modules[e];return n||(n=new t(e),this.modules[e]=n,n.constant("CONTAINER_NAME",e)),n}return new t}}],[{key:"getModule",value:function(e){if("string"==typeof e){var n=t.Singleton||this.modules[e];return n||(n=new t(e),t.Singleton=n,this.modules[e]=n,n.constant("CONTAINER_NAME",e)),n}return t.Singleton?t.Singleton:new t(e)}}]),t}();a.config={strict:!0},a.Singleton=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceMixin=t.ValueMixin=t.MiddlewareMixin=t.ConstantMixin=t.DecorateMixin=t.FactoryMixin=t.ProviderMixin=t.Container=void 0;var r=n(4),o=n(5),i=n(6),a=n(7),u=n(8),c=n(9),s=n(10),l=n(11);t.Container=r.Container,t.ProviderMixin=o.ProviderMixin,t.FactoryMixin=i.FactoryMixin,t.DecorateMixin=a.DecorateMixin,t.ConstantMixin=u.ConstantMixin,t.MiddlewareMixin=c.MiddlewareMixin,t.ValueMixin=s.ValueMixin,t.ServiceMixin=l.ServiceMixin},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)};t.Container=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.modules=n,this.decorators={},this.nested={},this.providerMap={},this.originalProviders={},this.middlewares={},this.deferred=[];var r=this.register.bind(this),i=this.decorator.bind(this);if(this.container={$decorator:i,$register:r,$list:this.list.bind(this)},this.config={strict:!1},this.id=o,this.modules[t])return this.module(t)}return r(e,[{key:"clear",value:function(e){"string"==typeof e?delete this.modules[e]:this.modules={}}},{key:"byMethod",value:function(e){return!/^\$(?:decorator|register|list)$|Provider$/.test(e)}},{key:"list",value:function(e){return Object.keys(e||this.container||{}).filter(this.byMethod)}},{key:"digest",value:function(e){return(e||[]).map(this.getNestedService.bind(this),this.container)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Array.prototype.slice,t.ProviderMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"reducer",value:function(e,t){return t(e)}},{key:"provider",value:function(e,t){var n=e.split(".");if(this.providerMap[e]&&1===n.length&&!this.container[e+"Provider"])return console.error(e+" provider already instantiated.");this.originalProviders[e]=t,this.providerMap[e]=!0;var r=n.shift();return n.length?(this.createSubProvider.call(this,r,t,n),this):this.createProvider.call(this,r,t)}},{key:"getWithGlobal",value:function(e,t){return(e[t]||[]).concat(e.__global__||[])}},{key:"createProvider",value:function(e,t){this.id();var n=this.container,r=(this.decorators,this.middlewares,e+"Provider"),o=Object.create(null);o[r]={configurable:!0,enumerable:!0,get:function(){var e=new t;return delete n[r],n[r]=e,e}};var i=function(e,t){var r=this.container[t],o=void 0;return r&&(o=this.getWithGlobal(this.decorators,e).reduce(this.reducer,r.$get(this.container)),delete n[t],delete n[e]),void 0===o?o:this.applyMiddleware(this.getWithGlobal(this.middlewares,e),e,o,this.container)}.bind(this,e,r);return o[e]={configurable:!0,enumerable:!0,get:i},Object.defineProperties(n,o),this}},{key:"createSubProvider",value:function(e,t,n){var r=this.getNestedModule.call(this,e);return this.providerMap[e]||this.factory(e,function(){return r.container}),r.provider(n.join("."),t)}},{key:"register",value:function(e){var t=void 0===e.$value?e:e.$value;return this[e.$type||"service"].apply(this,[e.$name,t].concat(e.$inject||[]))}},{key:"removeProviderMap",value:function(e){delete this.providerMap[e],delete this.container[e],delete this.container[e+"Provider"]}},{key:"resetProviders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.originalProviders,n=Object.keys(this.originalProviders);(e.length>0?n.filter(function(t){return e.indexOf(t)>-1}):n).forEach(function(e){var n=e.split(".");n.length>1&&(this.removeProviderMap.call(this,n[0]),n.forEach(this.removeProviderMap,this.getNestedModule.call(this,n[0]))),this.removeProviderMap.call(this,e),this.provider(e,t[e])},this)}},{key:"resolve",value:function(e){return this.deferred.forEach(function(t){t(e)}),this}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.FactoryMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"factory",value:function(e,t){return this.provider.call(this,e,function(){this.$get=t})}},{key:"instanceFactory",value:function(e,t){return this.factory.call(this,e,function(e){return{instance:t.bind(t,e)}})}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.DecorateMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"decorator",value:function(e,t){"function"==typeof e&&(t=e,e="__global__");var n=e.split("."),r=n.shift();return n.length?this.getNestedModule.call(this,r).decorator(n.join("."),t):(this.decorators[r]||(this.decorators[r]=[]),this.decorators[r].push(t)),this}},{key:"defer",value:function(e){return this.deferred.push(e),this}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ConstantMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"constant",value:function(e,t){var n=e.split(".");return e=n.pop(),this.defineConstant.call(n.reduce(this.setValueObject,this.container),e,t),this}},{key:"defineConstant",value:function(e,t){Object.defineProperty(this,e,{configurable:!1,enumerable:!0,value:t,writable:!1})}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MiddlewareMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"applyMiddleware",value:function(e,t,n,r){var o={configurable:!0,enumerable:!0};return e.length?o.get=function(){var t=0,r=function(o){if(o)throw o;e[t]&&e[t++](n,r)};return r(),n}:(o.value=n,o.writable=!0),Object.defineProperty(r,t,o),r[t]}},{key:"middleware",value:function(e,t){"function"==typeof e&&(t=e,e="__global__");var n=e.split("."),r=n.shift();return n.length?this.getNestedModule.call(this,r).middleware(n.join("."),t):(this.middlewares[r]||(this.middlewares[r]=[]),this.middlewares[r].push(t)),this}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ValueMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"value",value:function(e,t){var n=e.split(".");return e=n.pop(),this.defineValue.call(n.reduce(this.setValueObject,this.container),e,t),this}},{key:"defineValue",value:function(e,t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})}},{key:"setValueObject",value:function(e,t){var n=e[t];return n||(n={},this.defineValue.call(e,t,n)),n}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Array.prototype.slice;t.ServiceMixin=function(e){return function(t){function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"service",value:function(e,t){return this.createService.apply(this,[e,t,!0].concat(o.call(arguments,2)))}},{key:"createService",value:function(e,t,n){var r=arguments.length>3?o.call(arguments,3):[],i=this;return this.factory.call(this,e,function(){var e=t,o=i.getNestedService.bind(i),a=r.map(o,i.container);return n?(a.unshift(t),new(t.bind.apply(t,a))):e.apply(null,a)})}},{key:"serviceFactory",value:function(e,t){return this.createService.apply(this,[e,t,!1].concat(o.call(arguments,2)))}}]),n}()}}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mix=t.Vent=t.singleSpaAngular1=t.singleSpaMithril=t.supportComponents=t.supportDomApi=t.supportApi=void 0;var o=n(8),i=n(9),a=n(0),u=n(10),c=n(2),s=n(11),l=r(s),f=n(12),p=r(f);t.supportApi=o.supportApi,t.supportDomApi=i.supportDomApi,t.supportComponents=u.supportComponents,t.singleSpaMithril=l.default,t.singleSpaAngular1=p.default,t.Vent=a.Vent,t.mix=c.mix},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.appfactory=function(e,t,n,r,o,i,a,u){function c(e){o.run(e)}var s={};s.utils={},s.core=e,s.components={},s.module=function(e){if(s.core.container.$list().indexOf(e)>-1)return s.core.container[e];throw new Error(e+" not injected in the shell, please inject the dependency and try again")},s.config=function(){return i},s.ngmodules=function(){return s.core.container.ngmodules},s.element=t,s.utils.api=u.api,s.utils.viewContainer=u.viewcontainer,s.components.views=new Map,s.vent=a,s.appRouter=n,s.datastore=r,s.utils.hooks={},s.utils.reduceParams=u.stringifyQueryParams,s.utils.genUrl=u.pageurl;var l={app:s};return l.run=c.bind(l),Object.assign({},l,o)}},function(e,t,n){"use strict";function r(e){try{return decodeURIComponent(e)}catch(t){return e}}function o(e,t,n,o){var i=!e.children,a=(e.path||"")+"|"+i,u=f.get(a);if(!u){var c=[];u={keys:c,pattern:s()(e.path||"",c,{end:i})},f.set(a,u)}var p=u.pattern.exec(t);if(!p)return null;for(var h=p[0],v=Object.assign({},o),d=1;d<p.length;d++){var y=u.keys[d-1],b=y.name,m=p[d];void 0===m&&l.call(v,b)||(y.repeat?v[b]=m?m.split(y.delimiter).map(r):[]:v[b]=m?r(m):m)}return{path:i||"/"!==h.charAt(h.length-1)?h:h.substr(1),keys:n.concat(u.keys),params:v}}function i(e,t,n,r,a){var u,c,s=0;return{next:function(l){if(e===l)return{done:!0};if(!u&&(u=o(e,n,r,a)))return{done:!1,value:{route:e,baseUrl:t,path:u.path,keys:u.keys,params:u.params}};if(u&&e.children)for(;s<e.children.length;){if(!c){var f=e.children[s];f.parent=e,c=i(f,t+u.path,n.substr(u.path.length),u.keys,u.params)}var p=c.next(l);if(!p.done)return{done:!1,value:p.value};c=null,s++}return{done:!0}}}}function a(e,t){if("function"==typeof e.route.action)return e.route.action(e,t)}function u(e,t){for(var n=t;n;)if((n=n.parent)===e)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var c=n(16),s=n.n(c),l=Object.prototype.hasOwnProperty,f=new Map,p=function(){function e(e,t){if(void 0===t&&(t={}),Object(e)!==e)throw new TypeError("Invalid routes");this.baseUrl=t.baseUrl||"",this.errorHandler=t.errorHandler,this.resolveRoute=t.resolveRoute||a,this.context=Object.assign({router:this},t.context),this.root=Array.isArray(e)?{path:"",children:e,parent:null}:e,this.root.parent=null}return e.prototype.resolve=function(e){function t(e,n,i){void 0===n&&(n=c.value.route);var f=null===i&&c.value.route;if(c=s||o.next(f),s=null,!e&&(c.done||!u(n,c.value.route)))return s=c,Promise.resolve(null);if(c.done){var p=new Error("Page not found");return p.context=r,p.code=404,Promise.reject(p)}return l=Object.assign({},r,c.value),Promise.resolve(a(l,c.value.params)).then(function(r){return null!==r&&void 0!==r?r:t(e,n,r)})}var n=this,r=Object.assign({},this.context,"string"==typeof e?{pathname:e}:e),o=i(this.root,this.baseUrl,r.pathname.substr(this.baseUrl.length),[],null),a=this.resolveRoute,c=null,s=null,l=r;return r.next=t,Promise.resolve().then(function(){return t(!0,n.root)}).catch(function(e){if(e.context=e.context||l,e.code=e.code||500,n.errorHandler)return n.errorHandler(e);throw e})},e}();p.pathToRegexp=s.a,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vent=t.skeletonEngine=t.skeletonPwa=void 0;var r=n(1),o=n(13),i=n(4),a=n(14),u=n(15),c=n(18),s=n(19),l=n(20),f=n(21),p=n(22),h={};window.skeletonPwa=r.skeletonPwa,window.skeletonEngine=h,r.skeletonPwa.register(c.Dom),r.skeletonPwa.register(u.RouterService),r.skeletonPwa.register(f.apiUtils),r.skeletonPwa.register(f.viewContainerUtils),r.skeletonPwa.register(f.pageurlUtils),r.skeletonPwa.register(f.stringifyQueryUtils),r.skeletonPwa.register(s.apiFactory),r.skeletonPwa.register(l.buildUri),r.skeletonPwa.register(f.find),r.skeletonPwa.register(o.coreApiFactory),r.skeletonPwa.register(a.configFactory),r.skeletonPwa.service("singleSpa",function(){return singleSpa}),r.skeletonPwa.service("singleSpaReact",function(){return singleSpaReact}),r.skeletonPwa.service("datastore",Map),r.skeletonPwa.factory("skeletonpwa",function(){return r.skeletonPwa}),r.skeletonPwa.serviceFactory("navigateToUrl",p.navigateToUrlFactory,"$window"),h.bootstrap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=r.skeletonPwa.container.coreApi;if(t){var a=t;return r.skeletonPwa.constant("skeletonConfig",a),r.skeletonPwa.container.loadcfg().then(function(e){return o.resolveAll()}).then(function(){var t=["skeletonpwa","dom","state","datastore","coreApi","appCfg","vent","Utils"].concat(n);return i.appfactory.$name=e,i.appfactory.$type="serviceFactory",i.appfactory.$inject=t,r.skeletonPwa.register(i.appfactory),o.runAll(r.skeletonPwa.container[e])})}return r.skeletonPwa.container[e]},h.shell=function(e){var t=r.skeletonPwa.container[e];return t||r.skeletonPwa.container.coreApi},t.skeletonPwa=r.skeletonPwa,t.skeletonEngine=h,t.Vent=r.Vent},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressiveEngine=void 0;var a=n(2),u=n(3);t.ProgressiveEngine=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.active)return o(n);for(t.Singleton=n,n.options={app:"skeleton"},n.vent=new u.Vent,n.instanceWaiterProps=[];t.instanceWaiters.length;){n.instanceWaiterProps.push(function(e){return new Promise(function(n,r){t.instanceWaiters.shift()(e,{resolve:n,reject:r})})}(n))}return n}return i(t,e),t}(a.LazyIoc)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportApi=void 0;var r=n(0),o=function(e,t){var n=t.resolve;t.reject;e.service("http",function(){return r.ApiFactory}),n(e)};t.supportApi=function(e){e.onInstance(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportDomApi=void 0;var r=n(0);t.supportDomApi=function(e){var t=function(e,t){var n=t.resolve;t.reject;e.service("$createElement",function(){return r.DomApi}),e.service("$window",function(){return window}),e.service("$domq",function(){return function(e){return document.querySelector(e)}}),e.service("$document",function(){return window.document}),n(e)};e.onInstance(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportComponents=void 0;var r=n(0),o=function(e,t){var n=t.resolve;t.reject;e.service("GenericView",function(){return r.GenericView}),e.service("View",function(){return r.View}),e.service("VentView",function(){return r.VentView}),n(e)};t.supportComponents=function(e){e.onInstance(o)}},function(e,t,n){"use strict";function r(e){if("object"!==(void 0===e?"undefined":s(e)))throw new Error("single-spa-mithril requires a configuration object");var t=c({},l,e);if(!t.Mithril)throw new Error("single-spa-mithril must be passed opts.Mithril");if(!t.rootComponent&&!t.routes)throw new Error("single-spa-mithril must be passed opts.rootComponent or opts.routes");if(!t.domElementGetter)throw new Error("single-spa-mithril must be passed opts.domElementGetter function");return{bootstrap:o.bind(null,t),mount:i.bind(null,t),unmount:a.bind(null,t)}}function o(e){return Promise.resolve()}function i(e){return new Promise(function(t,n){var r=t,o=!!e.routes&&e.routes;"object"!==(void 0===o?"undefined":s(o))?e.Mithril.mount(u(e),e.rootComponent):(e.Mithril.route.prefix(e.prefix),e.Mithril.route(u(e),e.base,e.routes),e.stateInit()),r()})}function a(e){return Promise.resolve().then(function(){e.Mithril.mount(u(e),null)})}function u(e){var t=e.domElementGetter();if(!t)throw new Error("single-spa-mithril: domElementGetter function did not return a valid dom element");return t}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var l={Mithril:null,rootComponent:null,prefix:"?",domElementGetter:null}},function(e,t,n){"use strict";function r(e){if("object"!==(void 0===e?"undefined":s(e)))throw new Error("single-spa-angular1 requires a configuration object");var t=c({},l,e);if(!t.angular)throw new Error("single-spa-angular1 must be passed opts.angular");if(!t.domElementGetter)throw new Error("single-spa-angular1 must be passed opts.domElementGetter function");if(!t.mainAngularModule)throw new Error("single-spa-angular1 must be passed opts.mainAngularModule string");var n={};return{bootstrap:o.bind(null,t,n),mount:i.bind(null,t,n),unmount:a.bind(null,t,n)}}function o(e){return Promise.resolve()}function i(e,t){return Promise.resolve().then(function(){window.angular=e.angular;var n=u(e),r=n;if(e.uiRouter){var o=document.createElement("div");o.setAttribute("ui-view",!0===e.uiRouter?"":e.uiRouter),r.appendChild(o)}e.template&&(r.innerHTML=e.template),t.instance=f.startApp(r,e)})}function a(e,t){return new Promise(function(n,r){console.log(t,e),f.destroyApp(t.instance,e.mainAngularModule),e.angular!==window.angular||e.preserveGlobal||delete window.angular,setTimeout(n)})}function u(e){var t=e.domElementGetter();if(!t)throw new Error("domElementGetter did not return a valid dom element");return t}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var l={angular:null,domElementGetter:null,mainAngularModule:null,uiRouter:!1,preserveGlobal:!1,elementId:"__single_spa_angular_1",strictDi:!1,template:void 0},f=new function(){this.currentAppName,this.currentApp,this.startApp=function(e,t){var n=t.mainAngularModule,r=t.angular,o=t.strictDi,i=t.elementId;this.currentApp&&this.destroyApp(this.currentApp,this.currentAppName);var a=document.getElementById(i);if(a){this.currentAppName=n;var u=this;try{u.currentApp=r.bootstrap(a,[n],{strictDi:o})}catch(e){console.log(e),setTimeout(function(){u.currentApp=r.bootstrap(a,[n],{strictDi:o})},20)}}return this.currentApp},this.destroyApp=function(e,t){e.get("$rootScope").$destroy()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coreApiFactory=void 0;var r=n(1),o=(n(4),t.coreApiFactory=function(e){var t=arguments,n=[],o=[],i=[],a=Array.prototype.slice,u=function(e,t,r){var o=new Promise(function(n,o){e.provider(t,r),n()});return n.push(o),e},c=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.push(function(){return new Promise(function(e,t){e()})}()),e},s=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=new Promise(function(n,i){r.$name=t,r.$inject=Array.isArray(r.$inject)?r.$inject:[].concat(o),e.register(r),n()});return n.push(i),e},l=function(e,r,o){var i=t.length>3?a.call(t,3):null,u=new Promise(function(t,n){e.service.apply(e,[r,o].concat(i)),t()});return n.push(u),e},f=function(e,r,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];t.length>4&&a.call(t,4);o.$name=r,o.$type="serviceFactory",o.$inject=Array.isArray(o.$inject)?o.$inject:[].concat(i);var u=new Promise(function(t,n){e.register(o),t()});return n.push(u),e},p=function(e,t,r){var o=new Promise(function(n,o){e.factory(t,r),n()});return n.push(o),e},h=function(e,t,r){var o=new Promise(function(n,o){e.constant(t,r),n()});return n.push(o),e},v=function(e,t,r){var o=new Promise(function(n,o){e.value(t,r),n()});return n.push(o),e},d=function(e,t,r){var o=new Promise(function(n,o){e.value(t,r),n()});return n.push(o),e},y=function(e){return new Promise(function(t,n){r.skeletonPwa.container[e]&&(delete r.skeletonPwa.container[e],t()),n("Shell not bootstraped yet")})},b=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t.$name=t.$name?t.$name:e.id(),t.$type="service",t.$inject=Array.isArray(t.$inject)?t.$inject:[].concat(r);var o=new Promise(function(n,r){e.register(t),n()});n.push(o);var a=t.$name;return i.push(a),e},m=function(e){o.push(e)};r.skeletonPwa.component=s.bind(null,r.skeletonPwa),r.skeletonPwa.componentFactory=f.bind(null,r.skeletonPwa),r.skeletonPwa.package=c.bind(null,r.skeletonPwa),r.skeletonPwa.defineConfig=b.bind(null,r.skeletonPwa);var g={};return g.provider=u.bind(null,r.skeletonPwa),g.service=l.bind(null,r.skeletonPwa),g.factory=p.bind(null,r.skeletonPwa),g.middleware=d.bind(null,r.skeletonPwa),g.value=v.bind(null,r.skeletonPwa),g.constant=h.bind(null,r.skeletonPwa),g.serviceFactory=f.bind(null,r.skeletonPwa),g.package=c.bind(null,r.skeletonPwa),g.componentFactory=f.bind(null,r.skeletonPwa),g.component=s.bind(null,r.skeletonPwa),g.defineConfig=b.bind(null,r.skeletonPwa),g.resolveAll=function(){return Promise.all(n)},g.destroy=y,g.run=m,g.runAll=function(e){var t=function(e){return function(t){return new Promise(function(n,r){n(t(e.app))})}}(e),n=o.reduce(function(e,n){return e.push(t(n)),e},[]);return Promise.all(n).then(function(t){console.log(">>>here>>");var n=function(){return r.skeletonPwa.digest(i)},o=function(){var t=n();return e._runBlocks=t,e};return Promise.resolve(o)}).catch(function(e){console.error(e)})},g});o.$name="coreApi",o.$type="factory"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.configFactory=function(e){var t=e.$register,n=e.skeletonConfig,r=e.http;return function(e){var o=void 0;if(e)o=e;else{var i=new r({apiBase:n.api});o=i.get(n.publicConfig)}var a={},u=n;return o.then(function(e){return a.$name="appCfg",a.$type="constant",a.$value=Object.assign({reload:function(){return o.then(function(e){return e})}},u,e),Promise.resolve(t(a))}).catch(function(e){return a.$name="appCfg",a.$type="constant",a.$value=Object.assign({reload:function(){return o.then(function(e){return e})}},u),Promise.resolve(t(a))})}};r.$name="loadcfg",r.$type="factory"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RouterService=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(5),c=r(u),s=n(17),l=r(s),f=t.RouterService=function(){function e(t){return o(this,e),this.routes=t.routes?t.routes:[],this.url=function(e){return function(t){return(0,l.default)(e,t)}},this.opts=t.routeConfig,this.universalrouter=new c.default(this.routes,this.opts),this.genurl=this.url(this.universalrouter),this}return a(e,[{key:"route",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.universalrouter.resolve(i({pathname:e},t))}},{key:"genUrl",value:function(e,t,n){return this.genurl(n)(e,t)}},{key:"addRoute",value:function(e){return this.universalrouter.root.children.push(e),this}}]),e}();f.$name="state",f.$inject=["skeletonConfig"]},function(e,t){function n(e,t){for(var n,r=[],o=0,u=0,c="",s=t&&t.delimiter||h,l=t&&t.delimiters||v,f=!1;null!==(n=d.exec(e));){var p=n[0],y=n[1],b=n.index;if(c+=e.slice(u,b),u=b+p.length,y)c+=y[1],f=!0;else{var m="",g=e[u],w=n[2],P=n[3],_=n[4],j=n[5];if(!f&&c.length){var O=c.length-1;l.indexOf(c[O])>-1&&(m=c[O],c=c.slice(0,O))}c&&(r.push(c),c="",f=!1);var k=""!==m&&void 0!==g&&g!==m,x="+"===j||"*"===j,M="?"===j||"*"===j,E=m||s,A=P||_;r.push({name:w||o++,prefix:m,delimiter:E,optional:M,repeat:x,partial:k,pattern:A?a(A):"[^"+i(E)+"]+?"})}}return(c||u<e.length)&&r.push(c+e.substr(u)),r}function r(e,t){return o(n(e,t))}function o(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var o="",i=r&&r.encode||encodeURIComponent,a=0;a<e.length;a++){var u=e[a];if("string"!=typeof u){var c,s=n?n[u.name]:void 0;if(Array.isArray(s)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(0===s.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var l=0;l<s.length;l++){if(c=i(s[l],u),!t[a].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');o+=(0===l?u.prefix:u.delimiter)+c}}else if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"));u.partial&&(o+=u.prefix)}else{if(c=i(String(s),u),!t[a].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+c+'"');o+=u.prefix+c}}else o+=u}return o}}function i(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function a(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e){return e&&e.sensitive?"":"i"}function c(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}function s(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(p(e[o],t,n).source);return new RegExp("(?:"+r.join("|")+")",u(n))}function l(e,t,r){return f(n(e,r),t,r)}function f(e,t,n){n=n||{};for(var r=n.strict,o=!1!==n.end,a=i(n.delimiter||h),c=n.delimiters||v,s=[].concat(n.endsWith||[]).map(i).concat("$").join("|"),l="",f=0===e.length,p=0;p<e.length;p++){var d=e[p];if("string"==typeof d)l+=i(d),f=p===e.length-1&&c.indexOf(d[d.length-1])>-1;else{var y=i(d.prefix),b=d.repeat?"(?:"+d.pattern+")(?:"+y+"(?:"+d.pattern+"))*":d.pattern;t&&t.push(d),d.optional?d.partial?l+=y+"("+b+")?":l+="(?:"+y+"("+b+"))?":l+=y+"("+b+")"}}return o?(r||(l+="(?:"+a+")?"),l+="$"===s?"$":"(?="+s+")"):(r||(l+="(?:"+a+"(?="+s+"))?"),f||(l+="(?="+a+"|"+s+")")),new RegExp("^"+l,u(n))}function p(e,t,n){return e instanceof RegExp?c(e,t):Array.isArray(e)?s(e,t,n):l(e,t,n)}e.exports=p,e.exports.parse=n,e.exports.compile=r,e.exports.tokensToFunction=o,e.exports.tokensToRegExp=f;var h="/",v="./",d=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g")},function(e,t,n){"use strict";function r(e,t,n){if(e.has(t.name))throw new Error('Route "'+t.name+'" already exists');if(t.name&&e.set(t.name,t),n)for(var o=0;o<n.length;o++){var i=n[o];i.parent=t,r(e,i,i.children)}}function o(e,t){if(void 0===t&&(t={}),!(e instanceof i.default))throw new TypeError("An instance of UniversalRouter is expected");return e.routesByName=e.routesByName||new Map,function(n,o){var i=e.routesByName.get(n);if(!(i||(e.routesByName.clear(),r(e.routesByName,e.root,e.root.children),i=e.routesByName.get(n))))throw new Error('Route "'+n+'" not found');var c=u.get(i.fullPath);if(!c){for(var s="",l=i;l;){var f=Array.isArray(l.path)?l.path[0]:l.path;f&&(s=f+s),l=l.parent}for(var p=a.parse(s),h=a.tokensToFunction(p),v=Object.create(null),d=0;d<p.length;d++)"string"!=typeof p[d]&&(v[p[d].name]=!0);c={toPath:h,keys:v},u.set(s,c),i.fullPath=s}var y=e.baseUrl+c.toPath(o,t)||"/";if(t.stringifyQueryParams&&o){for(var b={},m=Object.keys(o),g=0;g<m.length;g++){var w=m[g];c.keys[w]||(b[w]=o[w])}var P=t.stringifyQueryParams(b);P&&(y+="?"===P.charAt(0)?P:"?"+P)}return y}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=i.default.pathToRegexp,u=new Map;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Dom=function(e,t){return e(t.elements)};r.$name="dom",r.$inject=["$createElement","skeletonConfig"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.apiFactory=function(e,t){return new e({apiBase:t.api})};r.$name="api",r.$type="serviceFactory",r.$inject=["http","skeletonConfig"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.buildUri=function(e){var t=function(){return e.prefixSite};return function(e){var n=e[0];return t()===n?e:""+t()+e}};r.$name="siteprefix",r.$type="serviceFactory",r.$inject=["skeletonConfig"]},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}Object.defineProperty(t,"__esModule",{value:!0}),t.find=r;var o=t.apiUtils=function(e){return e};o.$inject=["api"],o.$name="Utils.api",o.$type="serviceFactory";var i=t.pageurlUtils=function(){var e=function(e){return{tpl:function(){return"partials[]="},val:e||""}},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return e.reduce(function(e,t){return""===e.val?(e.val=e.val+e.tpl()+t,e):(e.val=e.val+"&"+e.tpl()+t,e)},t)}},n=function(e){return e.val};return function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n(t(o)(e(r)))}};i.$name="Utils.pageurl",i.$type="serviceFactory",i.$inject=[];var a=t.viewContainerUtils=function(e,t){var n=e.viewContainer?e.viewContainer:".view-container";return t.querySelector(n)};a.$name="Utils.viewcontainer",a.$type="serviceFactory",a.$inject=["skeletonConfig","$document"];var u=t.stringifyQueryUtils=function(){var e={stringifyQueryParams:function(e){return Object.keys(e).reduce(function(t,n){return""===n?t:(null!==e[n]&&""!==e[n]&&t.push(n+"="+e[n]),t)},[]).join("&")}};return function(e){var t=e.stringifyQueryParams;return function(e){var n=e.url,r=e.args;return""!==t(r)?n+"?"+t(r):n}}(e)};u.$inject=[],u.$name="Utils.stringifyQueryParams",u.$type="serviceFactory",r.$inject=[],r.$name="Utils.find",r.$type="serviceFactory"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.navigateToUrlFactory=function(e){function t(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=void 0;if("string"==typeof t)o=t;else if(this&&this.href)o=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw new Error("navigateToUrl must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag");o=t.currentTarget.href,t.preventDefault()}var i=n(e.location.href),a=n(o);if(0===o.indexOf("#"))e.location.hash="#"+a.anchor;else if(i.host!==a.host&&a.host){if(r.isTestingEnv)return{wouldHaveReloadedThePage:!0};e.location.href=o}else!function(e,t){return t===e||t==="/"+e}(a.path,i.path)?e.history.pushState(null,null,o):e.location.hash="#"+a.anchor}function n(e){for(var t={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t,r=n.parser[n.strictMode?"strict":"loose"].exec(e),o={},i=14;i--;)o[n.key[i]]=r[i]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(e,t,r){t&&(o[n.q.name][t]=r)}),o}var r=e.history.pushState;e.history.pushState=function(e){return r.apply(this,arguments)};var o=e.history.replaceState;return e.history.replaceState=function(){return o.apply(this,arguments)},t}}])});